(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(t,n,r,o){var i=o.handleCardClick,a=o.handleDelIconClick,u=o.handleLikeClick;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._name=t.name,this._link=t.link,this._template=document.querySelector(r),this._item=this._getTemplate(),this._delButton=this._item.querySelector(".item__delete"),this._likeButton=this._item.querySelector(".item__like"),this._handleCardClick=i,this._handleDelIconClick=a,this._handleLikeClick=u,this._myId=n,this._ownerId=t.owner._id,this.cardId=t._id}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){return this._template.content.querySelector(".item").cloneNode(!0)}},{key:"_removeButtonTrash",value:function(){this._delButton.style.display="none"}},{key:"generateCard",value:function(){return this._ownerId!==this._myId&&this._removeButtonTrash(),this.checkStatusLike()&&this._changeColorLike(),this._cardImage=this._item.querySelector(".item__picture"),this._likesCount=this._item.querySelector(".item__like-count"),this._setEventListeners(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._setLikeCount(this._data.likes),this._item.querySelector(".item__title").textContent=this._name,this._item}},{key:"_setEventListeners",value:function(){var t=this;this._item.contains(this._delButton)&&this._delButton.addEventListener("click",(function(){return t._handleDelIconClick({id:t.cardId,removeItem:function(){return t._removeItem()}})})),this._likeButton.addEventListener("click",(function(){return t._handleLikeClick(t._data)})),this._cardImage.addEventListener("click",this._handleCardClick)}},{key:"_removeItem",value:function(){this._item.remove(),this._item=null}},{key:"checkStatusLike",value:function(){var t=this;return this._data.likes.some((function(e){return e._id===t._myId}))}},{key:"_changeColorLike",value:function(){this._likeButton.classList.toggle("item__like_active")}},{key:"_setLikeCount",value:function(){this._likesCount.textContent=this._data.likes.length}},{key:"updateData",value:function(t){this._data.likes=t.likes}},{key:"toggleLike",value:function(){this._changeColorLike(),this._setLikeCount()}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(e,n){var r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(){return i._inputList.some((function(t){return!t.validity.valid}))},(r="_hasInvalidInput")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._config=e,this._formForValid=n,this._buttonSubmit=n.querySelector(e.buttonSubmit),this._inputList=Array.from(n.querySelectorAll(e.inputClass))}var e,r;return e=t,(r=[{key:"enableValidation",value:function(){this._setEventListener()}},{key:"_setEventListener",value:function(){var t=this;this._formForValid.addEventListener("input",(function(e){return t._handleInputForm(e)})),this._formForValid.addEventListener("submit",(function(t){t.preventDefault()}))}},{key:"_handleInputForm",value:function(t){var e=t.target;this._toggleButtonState(),this._checkInputValidity(e)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInpuError(t):this._showInputErorr(t)}},{key:"_setActiveButtonState",value:function(){this._buttonSubmit.classList.remove(this._config.buttonSubmitInactiveClass),this._buttonSubmit.removeAttribute("disabled")}},{key:"_setInactiveButtonState",value:function(){this._buttonSubmit.classList.add(this._config.buttonSubmitInactiveClass),this._buttonSubmit.setAttribute("disabled","true")}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._setInactiveButtonState():this._setActiveButtonState()}},{key:"_showInputErorr",value:function(t){var e=this._formForValid.querySelector("#".concat(t.id,"-error"));t.classList.add(this._config.inputErrorClass),e.textContent=t.validationMessage}},{key:"_hideInpuError",value:function(t){var e=this._formForValid.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._config.inputErrorClass),e.textContent=""}},{key:"validBeforeOpenForm",value:function(){var t=this;this._inputList.forEach((function(e){t._hideInpuError(e)})),this._toggleButtonState()}}])&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderItems",value:function(t){t.forEach(this._renderer)}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupElement=document.querySelector(e),this._handleOutsideClickClose=this._handleOutsideClickClose.bind(this),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this.setEventListeners(),this._popupElement.classList.add("popup_opened")}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),this.delEventListeners()}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_handleOutsideClickClose",value:function(t){(t.target===this._popupElement||t.target.classList.contains("popup__button-close"))&&this.close()}},{key:"setEventListeners",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popupElement.addEventListener("click",this._handleOutsideClickClose)}},{key:"delEventListeners",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popupElement.removeEventListener("click",this._handleOutsideClickClose)}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=f(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},s.apply(this,arguments)}function f(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(o){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function a(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,t)}return e=a,(n=[{key:"open",value:function(t){this._name=t.name,this._link=t.link;var e=this._popupElement.querySelector(".popup__image"),n=this._popupElement.querySelector(".popup__heading-image");e.src=this._link,e.alt=this._name,n.textContent=this._name,s(d(a.prototype),"open",this).call(this)}}])&&l(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(u);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=v(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},m.apply(this,arguments)}function v(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}function k(t,e){return k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k(t,e)}function g(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S(r);if(o){var n=S(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return g(this,t)});function a(t,e){var n,r=e.callbackSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._callbackSubmit=r,n._form=n._popupElement.querySelector(".form-group"),n._buttonSubmit=n._form.querySelector(".form-group__button-save"),n}return e=a,(n=[{key:"_getInputValues",value:function(){return this._inputList=Array.from(this._popupElement.querySelectorAll(".form-group__item")),this._inputListValues=this._inputList.reduce((function(t,e){return t[e.name]=e.value,t}),{}),this._inputListValues}},{key:"setEventListeners",value:function(){var t=this;this._listener=function(){t._callbackSubmit({data:t._getInputValues(),button:t._buttonSubmit})},this._form.addEventListener("submit",this._listener),m(S(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){m(S(a.prototype),"close",this).call(this),this._form.reset()}},{key:"delEventListeners",value:function(){this._form.removeEventListener("submit",this._listener),m(S(a.prototype),"delEventListeners",this).call(this)}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(u);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=L(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},O.apply(this,arguments)}function L(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}function I(t,e){return I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},I(t,e)}function j(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=P(r);if(o){var n=P(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return j(this,t)});function a(t,e){var n,r=e.callbackSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._callbackSubmit=r,n._form=n._popupElement.querySelector(".form-group"),n._buttonSubmit=n._form.querySelector(".form-group__button-save"),n}return e=a,(n=[{key:"open",value:function(t){this._data=t,O(P(a.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var t=this;this._listener=function(e){e.preventDefault(),t._callbackSubmit({data:t._data,button:t._buttonSubmit})},this._form.addEventListener("submit",this._listener),O(P(a.prototype),"setEventListeners",this).call(this)}},{key:"delEventListeners",value:function(){this._form.removeEventListener("submit",this._listener),O(P(a.prototype),"delEventListeners",this).call(this)}}])&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(u);function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameProfile=document.querySelector(e.profileName),this._aboutProfile=document.querySelector(e.profileAbout),this._profileAvatar=document.querySelector(e.profileAvatar)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._nameProfile.textContent,about:this._aboutProfile.textContent,avatar:this._profileAvatar}}},{key:"setUserInfo",value:function(t){this._nameProfile.textContent=t.name,this._aboutProfile.textContent=t.about,this._profileAvatar.style.backgroundImage="url(".concat(t.avatar,")")}}])&&q(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var B=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._headers=e.headers}var e,n;return e=t,(n=[{key:"_handleResponse",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"getAllData",value:function(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}},{key:"changeUserInfo",value:function(t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(t)}).then(this._handleResponse)}},{key:"addCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(t)}).then(this._handleResponse)}},{key:"delCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"toggleLike",value:function(t,e){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:e?"DELETE":"PUT",headers:this._headers}).then(this._handleResponse)}},{key:"changeAvatar",value:function(t){return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify(t)}).then(this._handleResponse)}}])&&A(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var U=document.querySelector(".popup_button_reduct"),D=document.querySelector(".info__button-reduct"),V=U.querySelector(".form-group"),F=V.querySelector(".form-group__item_el_name"),N=V.querySelector(".form-group__item_el_job"),J=document.querySelector(".profile__add-button"),G=document.querySelector(".popup_button_add-item").querySelector(".form-group"),H=document.querySelector(".popup_button_change-avatar").querySelector(".form-group"),M={buttonSubmit:".form-group__button-save",inputClass:".form-group__item",inputErrorClass:"form-group__item_error",buttonSubmitInactiveClass:"form-group__button-save_inactive"},z=new B({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-41",headers:{authorization:"5f54aa7b-f781-4bbd-a84a-c9d65d5c54ef","Content-Type":"application/json"}}),$=new r(M,V),K=new r(M,G),Q=new r(M,H),W=new y(".popup_content_image"),X=new T({profileName:".info__name",profileAbout:".info__about",profileAvatar:".profile__avatar"}),Y=new w(".popup_button_reduct",{callbackSubmit:function(t){t.button.textContent="Сохранение...",z.changeUserInfo(t.data).then((function(t){X.setUserInfo(t),Y.close()})).finally((function(){return t.button.textContent="Сохранить"})).catch((function(t){return console.log(t)}))}}),Z="",tt=function(t){var n=new e(t,Z,".template-item",{handleCardClick:function(){W.open(t)},handleDelIconClick:function(t){rt.open(t)},handleLikeClick:function(t){z.toggleLike(t._id,n.checkStatusLike()).then((function(t){n.updateData(t),n.toggleLike()})).catch((function(t){return console.log(t)}))}}),r=n.generateCard();et.addItem(r)},et=new i({renderer:function(t){tt(t)}},".cards");z.getAllData().then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Z=i._id,X.setUserInfo(i),et.renderItems(o)})).catch((function(t){return console.log(t)})),D.addEventListener("click",(function(){$.validBeforeOpenForm();var t=X.getUserInfo();F.value=t.name,N.value=t.about,Y.open()}));var nt=new w(".popup_button_change-avatar",{callbackSubmit:function(t){t.button.textContent="Сохранение...",z.changeAvatar(t.data).then((function(t){X.setUserInfo(t),nt.close()})).finally((function(){return t.button.textContent="Сохранение"})).catch((function(t){return console.log(t)}))}});X.getUserInfo().avatar.addEventListener("click",(function(){Q.validBeforeOpenForm(),nt.open()}));var rt=new R(".popup_button_confirm-del",{callbackSubmit:function(t){t.button.textContent="Удаление...",z.delCard(t.data.id).then((function(){t.data.removeItem(),rt.close()})).finally((function(){return t.button.textContent="Да"})).catch((function(t){return console.log(t)}))}}),ot=new w(".popup_button_add-item",{callbackSubmit:function(t){t.button.textContent="Сохранение...",z.addCard({name:t.data.title,link:t.data.link}).then((function(t){tt(t),ot.close()})).finally((function(){return t.button.textContent="Создать"})).catch((function(t){return console.log(t)}))}});J.addEventListener("click",(function(){K.validBeforeOpenForm(),ot.open()})),$.enableValidation(),K.enableValidation(),Q.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUN0QnRDLEVBQTJCc0Msb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBpZCwgdGVtcGxhdGUsIHsgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxJY29uQ2xpY2ssIGhhbmRsZUxpa2VDbGljayB9KSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX3RlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0ZW1wbGF0ZSk7XG4gICAgdGhpcy5faXRlbSA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fZGVsQnV0dG9uID0gdGhpcy5faXRlbS5xdWVyeVNlbGVjdG9yKFwiLml0ZW1fX2RlbGV0ZVwiKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5faXRlbS5xdWVyeVNlbGVjdG9yKFwiLml0ZW1fX2xpa2VcIik7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbEljb25DbGljayA9IGhhbmRsZURlbEljb25DbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG4gICAgdGhpcy5fbXlJZCA9IGlkO1xuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcbiAgICB0aGlzLmNhcmRJZCA9IGRhdGEuX2lkO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIHJldHVybiB0aGlzLl90ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaXRlbVwiKS5jbG9uZU5vZGUodHJ1ZSk7XG4gIH1cblxuICBfcmVtb3ZlQnV0dG9uVHJhc2goKSB7XG4gICAgdGhpcy5fZGVsQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fbXlJZCkge1xuICAgICAgdGhpcy5fcmVtb3ZlQnV0dG9uVHJhc2goKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2hlY2tTdGF0dXNMaWtlKCkpIHtcbiAgICAgIHRoaXMuX2NoYW5nZUNvbG9yTGlrZSgpO1xuICAgIH1cbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9pdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuaXRlbV9fcGljdHVyZVwiKTtcbiAgICB0aGlzLl9saWtlc0NvdW50ID0gdGhpcy5faXRlbS5xdWVyeVNlbGVjdG9yKFwiLml0ZW1fX2xpa2UtY291bnRcIik7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9zZXRMaWtlQ291bnQodGhpcy5fZGF0YS5saWtlcyk7XG4gICAgdGhpcy5faXRlbS5xdWVyeVNlbGVjdG9yKFwiLml0ZW1fX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICByZXR1cm4gdGhpcy5faXRlbTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBpZiAodGhpcy5faXRlbS5jb250YWlucyh0aGlzLl9kZWxCdXR0b24pKSB7XG4gICAgICB0aGlzLl9kZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgICAgIHRoaXMuX2hhbmRsZURlbEljb25DbGljayh7XG4gICAgICAgICAgaWQ6IHRoaXMuY2FyZElkLFxuICAgICAgICAgIHJlbW92ZUl0ZW06ICgpID0+IHRoaXMuX3JlbW92ZUl0ZW0oKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzLl9kYXRhKSk7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDYXJkQ2xpY2spO1xuICB9XG5cbiAgX3JlbW92ZUl0ZW0oKSB7XG4gICAgdGhpcy5faXRlbS5yZW1vdmUoKTtcbiAgICB0aGlzLl9pdGVtID0gbnVsbDtcbiAgfVxuXG4gIGNoZWNrU3RhdHVzTGlrZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5saWtlcy5zb21lKChpdGVtKSA9PiBpdGVtLl9pZCA9PT0gdGhpcy5fbXlJZCk7XG4gIH1cblxuICBfY2hhbmdlQ29sb3JMaWtlKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcIml0ZW1fX2xpa2VfYWN0aXZlXCIpO1xuICB9XG5cbiAgX3NldExpa2VDb3VudCgpIHtcbiAgICB0aGlzLl9saWtlc0NvdW50LnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5saWtlcy5sZW5ndGg7XG4gIH1cblxuICB1cGRhdGVEYXRhKGRhdGEpIHtcbiAgICB0aGlzLl9kYXRhLmxpa2VzID0gZGF0YS5saWtlcztcbiAgfVxuXG4gIHRvZ2dsZUxpa2UoKSB7XG4gICAgdGhpcy5fY2hhbmdlQ29sb3JMaWtlKCk7XG4gICAgdGhpcy5fc2V0TGlrZUNvdW50KCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ2FyZCB9O1xuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUZvclZhbGlkKSB7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX2Zvcm1Gb3JWYWxpZCA9IGZvcm1Gb3JWYWxpZDtcbiAgICB0aGlzLl9idXR0b25TdWJtaXQgPSBmb3JtRm9yVmFsaWQucXVlcnlTZWxlY3Rvcihjb25maWcuYnV0dG9uU3VibWl0KTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1Gb3JWYWxpZC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dENsYXNzKSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXIoKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xuICAgIHRoaXMuX2Zvcm1Gb3JWYWxpZC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2dCkgPT4gdGhpcy5faGFuZGxlSW5wdXRGb3JtKGV2dCkpO1xuICAgIHRoaXMuX2Zvcm1Gb3JWYWxpZC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgX2hhbmRsZUlucHV0Rm9ybShldnQpIHtcbiAgICBjb25zdCBpbnB1dCA9IGV2dC50YXJnZXQ7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCkge1xuICAgIGNvbnN0IGlzVmFsaWRJbnB1dCA9IGlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICAgIGlmICghaXNWYWxpZElucHV0KSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcm9ycihpbnB1dCk7XG4gICAgfSBlbHNlIHRoaXMuX2hpZGVJbnB1RXJyb3IoaW5wdXQpO1xuICB9XG5cbiAgX3NldEFjdGl2ZUJ1dHRvblN0YXRlKCkge1xuICAgIHRoaXMuX2J1dHRvblN1Ym1pdC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5idXR0b25TdWJtaXRJbmFjdGl2ZUNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25TdWJtaXQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gIH1cblxuICBfc2V0SW5hY3RpdmVCdXR0b25TdGF0ZSgpIHtcbiAgICB0aGlzLl9idXR0b25TdWJtaXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuYnV0dG9uU3VibWl0SW5hY3RpdmVDbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uU3VibWl0LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9zZXRBY3RpdmVCdXR0b25TdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zZXRJbmFjdGl2ZUJ1dHRvblN0YXRlKCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3dJbnB1dEVyb3JyKGlucHV0KSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdGhpcy5fZm9ybUZvclZhbGlkLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gIH1cblxuICBfaGlkZUlucHVFcnJvcihpbnB1dCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRoaXMuX2Zvcm1Gb3JWYWxpZC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZS50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH07XG4gIHZhbGlkQmVmb3JlT3BlbkZvcm0oKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdUVycm9yKGlucHV0KTtcbiAgICB9KTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9XG59XG5cbmV4cG9ydCB7IEZvcm1WYWxpZGF0b3IgfTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoZGF0YSkge1xuICAgIGRhdGEuZm9yRWFjaCh0aGlzLl9yZW5kZXJlcik7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlT3V0c2lkZUNsaWNrQ2xvc2UgPSB0aGlzLl9oYW5kbGVPdXRzaWRlQ2xpY2tDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG4gICAgdGhpcy5kZWxFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIF9oYW5kbGVPdXRzaWRlQ2xpY2tDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXBFbGVtZW50IHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2J1dHRvbi1jbG9zZVwiKSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZU91dHNpZGVDbGlja0Nsb3NlKTtcbiAgfVxuXG4gIGRlbEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZU91dHNpZGVDbGlja0Nsb3NlKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgb3BlbihkYXRhKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIGNvbnN0IGJpZ1NpemVQaWN0dXJlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xuICAgIGNvbnN0IHBvcHVwSW1hZ2VIZWFkaW5nID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2hlYWRpbmctaW1hZ2VcIik7XG4gICAgYmlnU2l6ZVBpY3R1cmUuc3JjID0gdGhpcy5fbGluaztcbiAgICBiaWdTaXplUGljdHVyZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHBvcHVwSW1hZ2VIZWFkaW5nLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgeyBjYWxsYmFja1N1Ym1pdCB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fY2FsbGJhY2tTdWJtaXQgPSBjYWxsYmFja1N1Ym1pdDtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1ncm91cFwiKTtcbiAgICB0aGlzLl9idXR0b25TdWJtaXQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1ncm91cF9fYnV0dG9uLXNhdmVcIik7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtLWdyb3VwX19pdGVtXCIpKTtcbiAgICB0aGlzLl9pbnB1dExpc3RWYWx1ZXMgPSB0aGlzLl9pbnB1dExpc3QucmVkdWNlKChyZXN1bHQsIGl0ZW0pID0+IHtcbiAgICAgIHJlc3VsdFtpdGVtLm5hbWVdID0gaXRlbS52YWx1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwge30pO1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3RWYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saXN0ZW5lciA9ICgpID0+IHtcbiAgICAgIHRoaXMuX2NhbGxiYWNrU3VibWl0KHtcbiAgICAgICAgZGF0YTogdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSxcbiAgICAgICAgYnV0dG9uOiB0aGlzLl9idXR0b25TdWJtaXQsXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9saXN0ZW5lcik7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICB9XG5cbiAgZGVsRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2xpc3RlbmVyKTtcbiAgICBzdXBlci5kZWxFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgeyBjYWxsYmFja1N1Ym1pdCB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fY2FsbGJhY2tTdWJtaXQgPSBjYWxsYmFja1N1Ym1pdDtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1ncm91cFwiKTtcbiAgICB0aGlzLl9idXR0b25TdWJtaXQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1ncm91cF9fYnV0dG9uLXNhdmVcIik7XG4gIH1cblxuICBvcGVuKGRhdGEpIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saXN0ZW5lciA9IChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fY2FsbGJhY2tTdWJtaXQoeyBkYXRhOiB0aGlzLl9kYXRhLCBidXR0b246IHRoaXMuX2J1dHRvblN1Ym1pdCB9KTtcbiAgICB9O1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9saXN0ZW5lcik7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGRlbEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Zvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9saXN0ZW5lcik7XG4gICAgc3VwZXIuZGVsRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcihwcm9maWxlSW5mb1NlbGVjdG9ycykge1xuICAgIHRoaXMuX25hbWVQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlSW5mb1NlbGVjdG9ycy5wcm9maWxlTmFtZSk7XG4gICAgdGhpcy5fYWJvdXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlSW5mb1NlbGVjdG9ycy5wcm9maWxlQWJvdXQpO1xuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVJbmZvU2VsZWN0b3JzLnByb2ZpbGVBdmF0YXIpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVQcm9maWxlLnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0UHJvZmlsZS50ZXh0Q29udGVudCxcbiAgICAgIGF2YXRhcjogdGhpcy5fcHJvZmlsZUF2YXRhcixcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHRoaXMuX25hbWVQcm9maWxlLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2Fib3V0UHJvZmlsZS50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7ZGF0YS5hdmF0YXJ9KWA7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gIH1cblxuICBfaGFuZGxlUmVzcG9uc2UocmVzKSB7XG4gICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBnZXRBbGxEYXRhKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRJbml0aWFsQ2FyZHMoKSwgdGhpcy5nZXRVc2VySW5mbygpXSk7XG4gIH1cblxuICBjaGFuZ2VVc2VySW5mbyhkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBhZGRDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgZGVsQ2FyZChpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICB0b2dnbGVMaWtlKGlkLCBzdGF0dXMpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IHN0YXR1cyA/IFwiREVMRVRFXCIgOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIGNoYW5nZUF2YXRhcihkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZS9hdmF0YXJcIiwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5jb25zdCBwb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2J1dHRvbl9yZWR1Y3RcIik7XG5jb25zdCByZWR1Y3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmluZm9fX2J1dHRvbi1yZWR1Y3RcIik7XG5jb25zdCBwcm9maWxlRm9ybSA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZ3JvdXBcIik7XG5jb25zdCBpbnB1dEZpcnNuYW1lID0gcHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtLWdyb3VwX19pdGVtX2VsX25hbWVcIik7XG5jb25zdCBpbnB1dEpvYiA9IHByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1ncm91cF9faXRlbV9lbF9qb2JcIik7XG5jb25zdCBidXR0b25BZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuY29uc3QgcG9wdXBBZGRJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9idXR0b25fYWRkLWl0ZW1cIik7XG5jb25zdCBjYXJkRm9ybSA9IHBvcHVwQWRkSXRlbS5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZ3JvdXBcIik7XG5jb25zdCBhdmF0YXJQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfYnV0dG9uX2NoYW5nZS1hdmF0YXJcIik7XG5jb25zdCBhdmF0YXJGb3JtID0gYXZhdGFyUG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtLWdyb3VwXCIpO1xuY29uc3Qgb3B0aW9ucyA9IHtcbiAgYnV0dG9uU3VibWl0OiBcIi5mb3JtLWdyb3VwX19idXR0b24tc2F2ZVwiLFxuICBpbnB1dENsYXNzOiBcIi5mb3JtLWdyb3VwX19pdGVtXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtLWdyb3VwX19pdGVtX2Vycm9yXCIsXG4gIGJ1dHRvblN1Ym1pdEluYWN0aXZlQ2xhc3M6IFwiZm9ybS1ncm91cF9fYnV0dG9uLXNhdmVfaW5hY3RpdmVcIixcbn07XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanNcIjtcblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI1ZjU0YWE3Yi1mNzgxLTRiYmQtYTg0YS1jOWQ2NWQ1YzU0ZWZcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG5jb25zdCB2YWxpZGF0aW9uUHJvZmlsZUZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihvcHRpb25zLCBwcm9maWxlRm9ybSk7XG5jb25zdCB2YWxpZGF0aW9uYWRkQ2FyZEZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihvcHRpb25zLCBjYXJkRm9ybSk7XG5jb25zdCB2YWxpZGF0aW9uQ2hhbmdlQXZhdGFyRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKG9wdGlvbnMsIGF2YXRhckZvcm0pO1xuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfY29udGVudF9pbWFnZVwiKTtcbmNvbnN0IHByb2ZpbGVJbmZvU2VsZWN0b3JzID0ge1xuICBwcm9maWxlTmFtZTogXCIuaW5mb19fbmFtZVwiLFxuICBwcm9maWxlQWJvdXQ6IFwiLmluZm9fX2Fib3V0XCIsXG4gIHByb2ZpbGVBdmF0YXI6IFwiLnByb2ZpbGVfX2F2YXRhclwiLFxufTtcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVJbmZvU2VsZWN0b3JzKTtcblxuY29uc3QgcmVkdWN0UHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfYnV0dG9uX3JlZHVjdFwiLCB7XG4gIGNhbGxiYWNrU3VibWl0OiAoZGF0YSkgPT4ge1xuICAgIGRhdGEuYnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuICAgIGFwaVxuICAgICAgLmNoYW5nZVVzZXJJbmZvKGRhdGEuZGF0YSlcbiAgICAgIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XG4gICAgICAgIHJlZHVjdFByb2ZpbGVQb3B1cC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IChkYXRhLmJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LjRgtGMXCIpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9LFxufSk7XG5cbmxldCBteUlkID0gXCJcIjtcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoaXRlbSkgPT4ge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgbXlJZCwgXCIudGVtcGxhdGUtaXRlbVwiLCB7XG4gICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XG4gICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKGl0ZW0pO1xuICAgIH0sXG4gICAgaGFuZGxlRGVsSWNvbkNsaWNrOiAoZGF0YSkgPT4ge1xuICAgICAgY29uZmlybURlbENhcmQub3BlbihkYXRhKTtcbiAgICB9LFxuICAgIGhhbmRsZUxpa2VDbGljazogKGNhbGxiYWNrQ2FyZCkgPT4ge1xuICAgICAgYXBpXG4gICAgICAgIC50b2dnbGVMaWtlKGNhbGxiYWNrQ2FyZC5faWQsIGNhcmQuY2hlY2tTdGF0dXNMaWtlKCkpXG4gICAgICAgIC50aGVuKChuZXdDYXJkKSA9PiB7XG4gICAgICAgICAgY2FyZC51cGRhdGVEYXRhKG5ld0NhcmQpO1xuICAgICAgICAgIGNhcmQudG9nZ2xlTGlrZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgfSxcbiAgfSk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XG59O1xuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY3JlYXRlQ2FyZChpdGVtKTtcbiAgICB9LFxuICB9LFxuICBcIi5jYXJkc1wiXG4pO1xuXG5hcGlcbiAgLmdldEFsbERhdGEoKVxuICAudGhlbigoW2luaXRpYWxDYXJkcywgc2F2ZWRVc2VySW5mb10pID0+IHtcbiAgICBteUlkID0gc2F2ZWRVc2VySW5mby5faWQ7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oc2F2ZWRVc2VySW5mbyk7XG4gICAgY2FyZExpc3QucmVuZGVySXRlbXMoaW5pdGlhbENhcmRzKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuXG5yZWR1Y3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgdmFsaWRhdGlvblByb2ZpbGVGb3JtLnZhbGlkQmVmb3JlT3BlbkZvcm0oKTtcbiAgY29uc3QgZGF0YUZvcklucHV0cyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIGlucHV0Rmlyc25hbWUudmFsdWUgPSBkYXRhRm9ySW5wdXRzLm5hbWU7XG4gIGlucHV0Sm9iLnZhbHVlID0gZGF0YUZvcklucHV0cy5hYm91dDtcbiAgcmVkdWN0UHJvZmlsZVBvcHVwLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBjaGFuZ2VBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX2J1dHRvbl9jaGFuZ2UtYXZhdGFyXCIsIHtcbiAgY2FsbGJhY2tTdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgZGF0YS5idXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XG4gICAgYXBpXG4gICAgICAuY2hhbmdlQXZhdGFyKGRhdGEuZGF0YSlcbiAgICAgIC50aGVuKChjYXJkKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGNhcmQpO1xuICAgICAgICBjaGFuZ2VBdmF0YXJQb3B1cC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IChkYXRhLmJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LVcIikpXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gIH0sXG59KTtcblxuY29uc3QgYXZhdGFyID0gdXNlckluZm8uZ2V0VXNlckluZm8oKS5hdmF0YXI7XG5hdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgdmFsaWRhdGlvbkNoYW5nZUF2YXRhckZvcm0udmFsaWRCZWZvcmVPcGVuRm9ybSgpO1xuICBjaGFuZ2VBdmF0YXJQb3B1cC5vcGVuKCk7XG59KTtcblxuY29uc3QgY29uZmlybURlbENhcmQgPSBuZXcgUG9wdXBXaXRoQ29uZmlybShcIi5wb3B1cF9idXR0b25fY29uZmlybS1kZWxcIiwge1xuICBjYWxsYmFja1N1Ym1pdDogKGNhbGxiYWNrRGF0YSkgPT4ge1xuICAgIGNhbGxiYWNrRGF0YS5idXR0b24udGV4dENvbnRlbnQgPSBcItCj0LTQsNC70LXQvdC40LUuLi5cIjtcbiAgICBhcGlcbiAgICAgIC5kZWxDYXJkKGNhbGxiYWNrRGF0YS5kYXRhLmlkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYWxsYmFja0RhdGEuZGF0YS5yZW1vdmVJdGVtKCk7XG4gICAgICAgIGNvbmZpcm1EZWxDYXJkLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4gKGNhbGxiYWNrRGF0YS5idXR0b24udGV4dENvbnRlbnQgPSBcItCU0LBcIikpXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gIH0sXG59KTtcblxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfYnV0dG9uX2FkZC1pdGVtXCIsIHtcbiAgY2FsbGJhY2tTdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgZGF0YS5idXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XG4gICAgYXBpXG4gICAgICAuYWRkQ2FyZCh7IG5hbWU6IGRhdGEuZGF0YS50aXRsZSwgbGluazogZGF0YS5kYXRhLmxpbmsgfSlcbiAgICAgIC50aGVuKChjYXJkKSA9PiB7XG4gICAgICAgIGNyZWF0ZUNhcmQoY2FyZCk7XG4gICAgICAgIGFkZENhcmRQb3B1cC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IChkYXRhLmJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtC30LTQsNGC0YxcIikpXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gIH0sXG59KTtcblxuYnV0dG9uQWRkQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICB2YWxpZGF0aW9uYWRkQ2FyZEZvcm0udmFsaWRCZWZvcmVPcGVuRm9ybSgpO1xuICBhZGRDYXJkUG9wdXAub3BlbigpO1xufSk7XG5cbnZhbGlkYXRpb25Qcm9maWxlRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG52YWxpZGF0aW9uYWRkQ2FyZEZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xudmFsaWRhdGlvbkNoYW5nZUF2YXRhckZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xuIl0sIm5hbWVzIjpbIkNhcmQiLCJkYXRhIiwiaWQiLCJ0ZW1wbGF0ZSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbEljb25DbGljayIsImhhbmRsZUxpa2VDbGljayIsInRoaXMiLCJfZGF0YSIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl90ZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIl9pdGVtIiwiX2dldFRlbXBsYXRlIiwiX2RlbEJ1dHRvbiIsIl9saWtlQnV0dG9uIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVEZWxJY29uQ2xpY2siLCJfaGFuZGxlTGlrZUNsaWNrIiwiX215SWQiLCJfb3duZXJJZCIsIm93bmVyIiwiX2lkIiwiY2FyZElkIiwiY29udGVudCIsImNsb25lTm9kZSIsInN0eWxlIiwiZGlzcGxheSIsIl9yZW1vdmVCdXR0b25UcmFzaCIsImNoZWNrU3RhdHVzTGlrZSIsIl9jaGFuZ2VDb2xvckxpa2UiLCJfY2FyZEltYWdlIiwiX2xpa2VzQ291bnQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJfc2V0TGlrZUNvdW50IiwibGlrZXMiLCJ0ZXh0Q29udGVudCIsImNvbnRhaW5zIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUl0ZW0iLCJfcmVtb3ZlSXRlbSIsInJlbW92ZSIsInNvbWUiLCJpdGVtIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwibGVuZ3RoIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1Gb3JWYWxpZCIsIl9pbnB1dExpc3QiLCJpbnB1dCIsInZhbGlkaXR5IiwidmFsaWQiLCJfY29uZmlnIiwiX2Zvcm1Gb3JWYWxpZCIsIl9idXR0b25TdWJtaXQiLCJidXR0b25TdWJtaXQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRDbGFzcyIsIl9zZXRFdmVudExpc3RlbmVyIiwiZXZ0IiwiX2hhbmRsZUlucHV0Rm9ybSIsInByZXZlbnREZWZhdWx0IiwidGFyZ2V0IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9oaWRlSW5wdUVycm9yIiwiX3Nob3dJbnB1dEVyb3JyIiwiYnV0dG9uU3VibWl0SW5hY3RpdmVDbGFzcyIsInJlbW92ZUF0dHJpYnV0ZSIsImFkZCIsInNldEF0dHJpYnV0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfc2V0SW5hY3RpdmVCdXR0b25TdGF0ZSIsIl9zZXRBY3RpdmVCdXR0b25TdGF0ZSIsImVycm9yTWVzc2FnZSIsImlucHV0RXJyb3JDbGFzcyIsInZhbGlkYXRpb25NZXNzYWdlIiwiZm9yRWFjaCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVPdXRzaWRlQ2xpY2tDbG9zZSIsImJpbmQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJzZXRFdmVudExpc3RlbmVycyIsImRlbEV2ZW50TGlzdGVuZXJzIiwia2V5IiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoSW1hZ2UiLCJiaWdTaXplUGljdHVyZSIsInBvcHVwSW1hZ2VIZWFkaW5nIiwiUG9wdXBXaXRoRm9ybSIsImNhbGxiYWNrU3VibWl0IiwiX2NhbGxiYWNrU3VibWl0IiwiX2Zvcm0iLCJfaW5wdXRMaXN0VmFsdWVzIiwicmVkdWNlIiwicmVzdWx0IiwidmFsdWUiLCJfbGlzdGVuZXIiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJidXR0b24iLCJyZXNldCIsIlBvcHVwV2l0aENvbmZpcm0iLCJVc2VySW5mbyIsInByb2ZpbGVJbmZvU2VsZWN0b3JzIiwiX25hbWVQcm9maWxlIiwicHJvZmlsZU5hbWUiLCJfYWJvdXRQcm9maWxlIiwicHJvZmlsZUFib3V0IiwiX3Byb2ZpbGVBdmF0YXIiLCJwcm9maWxlQXZhdGFyIiwiYWJvdXQiLCJhdmF0YXIiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJBcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9oYW5kbGVSZXNwb25zZSIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwb3B1cFByb2ZpbGUiLCJyZWR1Y3RCdXR0b24iLCJwcm9maWxlRm9ybSIsImlucHV0Rmlyc25hbWUiLCJpbnB1dEpvYiIsImJ1dHRvbkFkZENhcmQiLCJjYXJkRm9ybSIsImF2YXRhckZvcm0iLCJhcGkiLCJhdXRob3JpemF0aW9uIiwidmFsaWRhdGlvblByb2ZpbGVGb3JtIiwidmFsaWRhdGlvbmFkZENhcmRGb3JtIiwidmFsaWRhdGlvbkNoYW5nZUF2YXRhckZvcm0iLCJwb3B1cFdpdGhJbWFnZSIsInVzZXJJbmZvIiwicmVkdWN0UHJvZmlsZVBvcHVwIiwiY2hhbmdlVXNlckluZm8iLCJ1c2VyRGF0YSIsInNldFVzZXJJbmZvIiwiZmluYWxseSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIm15SWQiLCJjcmVhdGVDYXJkIiwiY2FyZCIsIm9wZW4iLCJjb25maXJtRGVsQ2FyZCIsImNhbGxiYWNrQ2FyZCIsInRvZ2dsZUxpa2UiLCJuZXdDYXJkIiwidXBkYXRlRGF0YSIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwiY2FyZExpc3QiLCJhZGRJdGVtIiwiZ2V0QWxsRGF0YSIsImluaXRpYWxDYXJkcyIsInNhdmVkVXNlckluZm8iLCJyZW5kZXJJdGVtcyIsInZhbGlkQmVmb3JlT3BlbkZvcm0iLCJkYXRhRm9ySW5wdXRzIiwiY2hhbmdlQXZhdGFyUG9wdXAiLCJjaGFuZ2VBdmF0YXIiLCJjYWxsYmFja0RhdGEiLCJkZWxDYXJkIiwiYWRkQ2FyZFBvcHVwIiwiYWRkQ2FyZCIsInRpdGxlIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=