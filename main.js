(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(t,n,r,o){var i=o.handleCardClick,u=o.handleDelIconClick,a=o.handleLikeClick;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._likes=t.likes,this._name=t.name,this._link=t.link,this._template=document.querySelector(r),this._item=this._getTemplate(),this._delButton=this._item.querySelector(".item__delete"),this._likeButton=this._item.querySelector(".item__like"),this._handleCardClick=i,this._handleDelIconClick=u,this._handleLikeClick=a,this._myId=n,this._ownerId=t.owner._id,this.cardId=t._id}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){return this._template.content.querySelector(".item").cloneNode(!0)}},{key:"_removeButtonTrash",value:function(){this._delButton.remove()}},{key:"generateCard",value:function(){return this._ownerId!==this._myId&&this._removeButtonTrash(),this.checkStatusLike()&&this._likeButton.classList.add("item__like_active"),this._cardImage=this._item.querySelector(".item__picture"),this._likesCount=this._item.querySelector(".item__like-count"),this._setEventListeners(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._likesCount.textContent=this._likes.length,this._item.querySelector(".item__title").textContent=this._name,this._item}},{key:"_setEventListeners",value:function(){var t=this;this._item.contains(this._delButton)&&this._delButton.addEventListener("click",(function(){return t._handleDelIconClick({id:t.cardId,removeItem:function(){return t._removeItem()}})})),this._likeButton.addEventListener("click",(function(){return t._handleLikeClick(t._data)})),this._cardImage.addEventListener("click",(function(){return t._handleCardClick()}))}},{key:"_removeItem",value:function(){this._item.remove(),this._item=null}},{key:"checkStatusLike",value:function(){return this.likesId=this._data.likes.map((function(t){return t._id})),!!this.likesId.includes(this._myId)}},{key:"toggleLike",value:function(t){this._data=t,this._likeButton.classList.toggle("item__like_active"),this._likesCount.textContent=this._data.likes.length}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(e,n){var r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(){return i._inputList.some((function(t){return!t.validity.valid}))},(r="_hasInvalidInput")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._config=e,this._formForValid=n,this._buttonSubmit=n.querySelector(e.buttonSubmit),this._inputList=Array.from(n.querySelectorAll(e.inputClass))}var e,r;return e=t,(r=[{key:"enableValidation",value:function(){this._setEventListener()}},{key:"_setEventListener",value:function(){var t=this;this._formForValid.addEventListener("input",(function(e){return t._handleInputForm(e)})),this._formForValid.addEventListener("submit",(function(t){t.preventDefault()}))}},{key:"_handleInputForm",value:function(t){var e=t.target;this._toggleButtonState(),this._checkInputValidity(e)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInpuError(t):this._showInputErorr(t)}},{key:"_setActiveButtonState",value:function(){this._buttonSubmit.classList.remove(this._config.buttonSubmitInactiveClass),this._buttonSubmit.removeAttribute("disabled")}},{key:"_setInactiveButtonState",value:function(){this._buttonSubmit.classList.add(this._config.buttonSubmitInactiveClass),this._buttonSubmit.setAttribute("disabled","true")}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._setInactiveButtonState():this._setActiveButtonState()}},{key:"_showInputErorr",value:function(t){var e=this._formForValid.querySelector("#".concat(t.id,"-error"));t.classList.add(this._config.inputErrorClass),e.textContent=t.validationMessage}},{key:"_hideInpuError",value:function(t){var e=this._formForValid.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._config.inputErrorClass),e.textContent=""}},{key:"validBeforeOpenForm",value:function(){var t=this;this._inputList.forEach((function(e){t._hideInpuError(e)})),this._toggleButtonState()}}])&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){var r=e.data,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderedItems=r,this.renderer=o,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderItems",value:function(){var t=this;this._renderedItems.forEach((function(e){t.renderer(e)}))}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupElement=document.querySelector(e),this._buttonClosePopup=this._popupElement.querySelector(".popup__button-close"),this.escClose=function(t){return n._handleEscClose(t)},this.callbackClose=function(){return n.close()},this.callbackOutClick=function(t){return n._handleOutsideClickClose(t)}}var e,n;return e=t,(n=[{key:"open",value:function(){this.setEventListeners(),this._popupElement.classList.add("popup_opened")}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),this.delEventListeners()}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_handleOutsideClickClose",value:function(t){t.target===this._popupElement&&this.close()}},{key:"setEventListeners",value:function(){this._buttonClosePopup.addEventListener("click",this.callbackClose),document.addEventListener("keydown",this.escClose),this._popupElement.addEventListener("click",this.callbackOutClick)}},{key:"delEventListeners",value:function(){this._buttonClosePopup.removeEventListener("click",this.callbackClose),document.removeEventListener("keydown",this.escClose),this._popupElement.removeEventListener("click",this.callbackOutClick)}}])&&u(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=f(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},s.apply(this,arguments)}function f(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(o){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t)}return e=u,(n=[{key:"open",value:function(t){this._name=t.name,this._link=t.link;var e=this._popupElement.querySelector(".popup__image"),n=this._popupElement.querySelector(".popup__heading-image");e.src=this._link,e.alt=this._name,n.textContent=this._name,s(d(u.prototype),"open",this).call(this)}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(a);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=v(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},m.apply(this,arguments)}function v(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}function k(t,e){return k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k(t,e)}function g(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S(r);if(o){var n=S(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return g(this,t)});function u(t,e){var n,r=e.callbackSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._callbackSubmit=r,n._form=n._popupElement.querySelector(".form-group"),n._buttonSubmit=n._form.querySelector(".form-group__button-save"),n}return e=u,(n=[{key:"_getInputValues",value:function(){return this._inputList=Array.from(this._popupElement.querySelectorAll(".form-group__item")),this._inputListValues=this._inputList.reduce((function(t,e){return t[e.name]=e.value,t}),{}),this._inputListValues}},{key:"open",value:function(t){if(t){var e=this._form.querySelector(".form-group__item_el_name"),n=this._form.querySelector(".form-group__item_el_job");e.value=t.name,n.value=t.about}m(S(u.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var t=this;this._listener=function(){t._callbackSubmit({data:t._getInputValues(),button:t._buttonSubmit})},this._form.addEventListener("submit",this._listener),m(S(u.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){m(S(u.prototype),"close",this).call(this),this._form.reset()}},{key:"delEventListeners",value:function(){this._form.removeEventListener("submit",this._listener),m(S(u.prototype),"delEventListeners",this).call(this)}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(a);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=I(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},O.apply(this,arguments)}function I(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}function L(t,e){return L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},L(t,e)}function P(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=j(r);if(o){var n=j(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return P(this,t)});function u(t,e){var n,r=e.callbackSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._callbackSubmit=r,n._form=n._popupElement.querySelector(".form-group"),n._buttonSubmit=n._form.querySelector(".form-group__button-save"),n}return e=u,(n=[{key:"open",value:function(t){this._data=t,O(j(u.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var t=this;this._listener=function(e){e.preventDefault(),t._callbackSubmit({data:t._data,button:t._buttonSubmit})},this._form.addEventListener("submit",this._listener),O(j(u.prototype),"setEventListeners",this).call(this)}},{key:"delEventListeners",value:function(){this._form.removeEventListener("submit",this._listener),O(j(u.prototype),"delEventListeners",this).call(this)}}])&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(a);function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var A=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameProfile=document.querySelector(e.profileName),this._aboutProfile=document.querySelector(e.profileAbout),this._profileAvatar=document.querySelector(e.profileAvatar)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._nameProfile.textContent,about:this._aboutProfile.textContent,avatar:this._profileAvatar}}},{key:"setUserInfo",value:function(t){this._nameProfile.textContent=t.name,this._aboutProfile.textContent=t.about,this._profileAvatar.style.backgroundImage="url("+t.avatar+")"}}])&&T(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var R=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._headers=e.headers}var e,n;return e=t,(n=[{key:"_errorHandler",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getInitialCards",value:function(){var t=this;return fetch(this._baseUrl+"/cards",{method:"GET",headers:this._headers}).then((function(e){return t._errorHandler(e)}))}},{key:"getUserInfo",value:function(){var t=this;return fetch(this._baseUrl+"/users/me",{method:"GET",headers:this._headers}).then((function(e){return t._errorHandler(e)}))}},{key:"getAllData",value:function(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}},{key:"changeUserInfo",value:function(t){var e=this;return fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify(t)}).then((function(t){return e._errorHandler(t)}))}},{key:"addCard",value:function(t){var e=this;return fetch(this._baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify(t)}).then((function(t){return e._errorHandler(t)}))}},{key:"delCard",value:function(t){var e=this;return fetch(this._baseUrl+"/cards/"+t,{method:"DELETE",headers:this._headers}).then((function(t){return e._errorHandler(t)}))}},{key:"toggleLike",value:function(t,e){var n=this;return e?fetch(this._baseUrl+"/cards/"+t+"/likes",{method:"DELETE",headers:this._headers}).then((function(t){return n._errorHandler(t)})):fetch(this._baseUrl+"/cards/"+t+"/likes",{method:"PUT",headers:this._headers}).then((function(t){return n._errorHandler(t)}))}},{key:"changeAvatar",value:function(t){var e=this;return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify(t)}).then((function(t){return e._errorHandler(t)}))}}])&&B(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var U=document.querySelector(".popup_button_reduct"),D=document.querySelector(".info__button-reduct"),V=U.querySelector(".form-group"),F=document.querySelector(".profile__add-button"),H=document.querySelector(".popup_button_add-item"),N=H.querySelector(".form-group"),J=H.querySelector(".form-group__item_el_image-title"),G=H.querySelector(".form-group__item_el_image-link"),M=document.querySelector(".popup_button_change-avatar").querySelector(".form-group"),z={buttonSubmit:".form-group__button-save",inputClass:".form-group__item",inputErrorClass:"form-group__item_error",buttonSubmitInactiveClass:"form-group__button-save_inactive"},$=new R({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-41",headers:{authorization:"5f54aa7b-f781-4bbd-a84a-c9d65d5c54ef","Content-Type":"application/json"}}),K=new r(z,V),Q=new r(z,N),W=new r(z,M),X=new _(".popup_content_image"),Y=new A({profileName:".info__name",profileAbout:".info__about",profileAvatar:".profile__avatar"}),Z=new w(".popup_button_reduct",{callbackSubmit:function(t){t.button.textContent="Сохранение...",$.changeUserInfo(t.data).then((function(t){Y.setUserInfo(t),Z.close()})).finally((function(){return t.button.textContent="Сохранить"})).catch((function(t){return console.log(t)}))}});$.getAllData().then((function(t){var n,r,o=(r=2,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(n,r)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(t,e):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=o[0],a=o[1];Y.setUserInfo(a),u.reverse();var l=new i({data:u,renderer:function(t){var n=new e(t,a._id,".template-item",{handleCardClick:function(){X.open(t)},handleDelIconClick:function(t){s.open(t)},handleLikeClick:function(t){$.toggleLike(t._id,n.checkStatusLike()).then((function(t){n.toggleLike(t)})).catch((function(t){return console.log(t)}))}}),r=n.generateCard();l.addItem(r)}},".cards");l.renderItems(),D.addEventListener("click",(function(){K.validBeforeOpenForm(),Z.open(Y.getUserInfo())}));var c=new w(".popup_button_change-avatar",{callbackSubmit:function(t){t.button.textContent="Сохранение...",$.changeAvatar(t.data).then((function(t){Y.setUserInfo(t),c.close()})).finally((function(){return t.button.textContent="Сохранение"})).catch((function(t){return console.log(t)}))}});Y.getUserInfo().avatar.addEventListener("click",(function(){W.validBeforeOpenForm(),c.open()}));var s=new q(".popup_button_confirm-del",{callbackSubmit:function(t){t.button.textContent="Удаление...",$.delCard(t.data.id).then((function(){t.data.removeItem(),s.close()})).finally((function(){return t.button.textContent="Да"})).catch((function(t){return console.log(t)}))}}),f=new w(".popup_button_add-item",{callbackSubmit:function(t){t.button.textContent="Сохранение...",$.addCard({name:J.value,link:G.value}).then((function(t){l.renderer(t),f.close()})).finally((function(){return t.button.textContent="Создать"})).catch((function(t){return console.log(t)}))}});F.addEventListener("click",(function(){Q.validBeforeOpenForm(),f.open()})),K.enableValidation(),Q.enableValidation(),W.enableValidation()})).catch((function(t){return console.log(t)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NkMsYUFDbEJxSixFQUFlNUYsV0FFaEIrRSxTQUFRLGtCQUFNd0IsRUFBYWhGLE9BQU9wRixZQUFjLFFBQ2hENkksT0FBTSxTQUFDQyxHQUFELE9BQVNDLFFBQVFDLElBQUlGLFNBR3hCd0IsRUFBZSxJQUFJL0YsRUFBYyx5QkFBMEIsQ0FBQ0MsZUFBZ0IsU0FBQ2pILEdBQ2pGQSxFQUFLNkgsT0FBT3BGLFlBQWMsZ0JBQzFCaUksRUFBSXNDLFFBQVEsQ0FBQ3JNLEtBQU00SixFQUFXaEQsTUFBTzFHLEtBQU0ySixFQUFVakQsUUFDcERrQyxNQUFLLFNBQUN1QyxHQUNMRCxFQUFTdEcsU0FBU3VHLEdBQ2xCZSxFQUFhekcsV0FFZCtFLFNBQVEsa0JBQU1yTCxFQUFLNkgsT0FBT3BGLFlBQWMsYUFDeEM2SSxPQUFNLFNBQUNDLEdBQUQsT0FBU0MsUUFBUUMsSUFBSUYsU0FHOUJuQixFQUFVeEgsaUJBQWlCLFNBQVMsV0FDbENpSSxFQUFzQjZCLHNCQUN0QkssRUFBYWQsVUFHZnJCLEVBQXNCcUMsbUJBQ3RCcEMsRUFBc0JvQyxtQkFDdEJuQyxFQUEyQm1DLHNCQUc1QjNCLE9BQU0sU0FBQ0MsR0FBRCxPQUFTQyxRQUFRQyxJQUFJRixPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IgKGRhdGEsIGlkLCB0ZW1wbGF0ZSwge2hhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsSWNvbkNsaWNrLCBoYW5kbGVMaWtlQ2xpY2t9KXtcbiAgICB0aGlzLl9kYXRhID0gZGF0YVxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRlbXBsYXRlKTtcbiAgICB0aGlzLl9pdGVtID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9kZWxCdXR0b24gPSB0aGlzLl9pdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuaXRlbV9fZGVsZXRlXCIpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9pdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuaXRlbV9fbGlrZVwiKTtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsSWNvbkNsaWNrID0gaGFuZGxlRGVsSWNvbkNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcbiAgICB0aGlzLl9teUlkID0gaWQ7XG4gICAgdGhpcy5fb3duZXJJZCA9ICBkYXRhLm93bmVyLl9pZDtcbiAgICB0aGlzLmNhcmRJZCA9IGRhdGEuX2lkO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCl7XG4gICAgY29uc3QgaXRlbSA9ICB0aGlzLl90ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaXRlbVwiKS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cblxuICBfcmVtb3ZlQnV0dG9uVHJhc2goKXtcbiAgICB0aGlzLl9kZWxCdXR0b24ucmVtb3ZlKCk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKXtcbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fbXlJZCl7XG4gICAgICB0aGlzLl9yZW1vdmVCdXR0b25UcmFzaCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5jaGVja1N0YXR1c0xpa2UoKSl7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJpdGVtX19saWtlX2FjdGl2ZVwiKTtcbiAgICB9XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5faXRlbS5xdWVyeVNlbGVjdG9yKFwiLml0ZW1fX3BpY3R1cmVcIik7XG4gICAgdGhpcy5fbGlrZXNDb3VudCA9IHRoaXMuX2l0ZW0ucXVlcnlTZWxlY3RvcignLml0ZW1fX2xpa2UtY291bnQnKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2xpa2VzQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gICAgdGhpcy4gX2l0ZW0ucXVlcnlTZWxlY3RvcihcIi5pdGVtX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZW07XG4gIH1cblxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpe1xuICAgIGlmICh0aGlzLl9pdGVtLmNvbnRhaW5zKHRoaXMuX2RlbEJ1dHRvbikpe1xuICAgICAgdGhpcy5fZGVsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAgKCkgPT4gdGhpcy5faGFuZGxlRGVsSWNvbkNsaWNrKHtpZDogdGhpcy5jYXJkSWQsIHJlbW92ZUl0ZW06ICgpID0+IHRoaXMuX3JlbW92ZUl0ZW0oKX0pKTtcbiAgICB9XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMuX2RhdGEpKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRDbGljaygpKTtcbiAgfVxuXG4gIF9yZW1vdmVJdGVtICgpIHtcbiAgICB0aGlzLl9pdGVtLnJlbW92ZSgpO1xuICAgIHRoaXMuX2l0ZW0gPSBudWxsO1xuICB9O1xuXG4gIGNoZWNrU3RhdHVzTGlrZSgpe1xuICAgIHRoaXMubGlrZXNJZCA9IHRoaXMuX2RhdGEubGlrZXMubWFwKChlbGVtKSA9PiBlbGVtLl9pZClcbiAgICBpZih0aGlzLmxpa2VzSWQuaW5jbHVkZXModGhpcy5fbXlJZCkpe1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICB0b2dnbGVMaWtlIChkYXRhKSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGFcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJpdGVtX19saWtlX2FjdGl2ZVwiKTtcbiAgICB0aGlzLl9saWtlc0NvdW50LnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5saWtlcy5sZW5ndGhcbiAgfTtcblxufVxuXG4gZXhwb3J0IHtDYXJkfTtcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUZvclZhbGlkKXtcclxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm1Gb3JWYWxpZCA9IGZvcm1Gb3JWYWxpZDtcclxuICAgIHRoaXMuX2J1dHRvblN1Ym1pdCA9IGZvcm1Gb3JWYWxpZC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5idXR0b25TdWJtaXQpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRm9yVmFsaWQucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRDbGFzcykpO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXIoKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVyKCl7XHJcbiAgICB0aGlzLl9mb3JtRm9yVmFsaWQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZXZ0KSA9PiB0aGlzLl9oYW5kbGVJbnB1dEZvcm0oZXZ0KSk7XHJcbiAgICB0aGlzLl9mb3JtRm9yVmFsaWQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24oZXZ0KXtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVJbnB1dEZvcm0oZXZ0KXtcclxuICAgIGNvbnN0IGlucHV0ID0gZXZ0LnRhcmdldDtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xyXG4gIH07XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgKGlucHV0KXtcclxuICAgIGNvbnN0IGlzVmFsaWRJbnB1dCA9IGlucHV0LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgaWYgKCFpc1ZhbGlkSW5wdXQpe1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcm9ycihpbnB1dCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHRoaXMuX2hpZGVJbnB1RXJyb3IoaW5wdXQpO1xyXG4gIH1cclxuXHJcbiAgX3NldEFjdGl2ZUJ1dHRvblN0YXRlKCl7XHJcbiAgICB0aGlzLl9idXR0b25TdWJtaXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuYnV0dG9uU3VibWl0SW5hY3RpdmVDbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b25TdWJtaXQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgfTtcclxuXHJcbiAgX3NldEluYWN0aXZlQnV0dG9uU3RhdGUoKXtcclxuICAgIHRoaXMuX2J1dHRvblN1Ym1pdC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5idXR0b25TdWJtaXRJbmFjdGl2ZUNsYXNzKTtcclxuICAgIHRoaXMuX2J1dHRvblN1Ym1pdC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XHJcbiAgfTtcclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlICgpe1xyXG4gICAgaWYgKCF0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSl7XHJcbiAgICAgdGhpcy5fc2V0QWN0aXZlQnV0dG9uU3RhdGUoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgIHRoaXMuX3NldEluYWN0aXZlQnV0dG9uU3RhdGUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcm9yciAoaW5wdXQpe1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdGhpcy5fZm9ybUZvclZhbGlkLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZS50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1RXJyb3IgKGlucHV0KXtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRoaXMuX2Zvcm1Gb3JWYWxpZC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2UudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgdmFsaWRCZWZvcmVPcGVuRm9ybSAoKXtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT57XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1RXJyb3IoaW5wdXQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtGb3JtVmFsaWRhdG9yfTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHtkYXRhLCByZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcyA9IGRhdGE7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICB0aGlzLnJlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcblx0Y29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcil7XHJcblx0XHR0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG5cdFx0dGhpcy5fYnV0dG9uQ2xvc2VQb3B1cCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b24tY2xvc2VcIik7XHJcblx0XHR0aGlzLmVzY0Nsb3NlID0gKChldnQpID0+IHRoaXMuX2hhbmRsZUVzY0Nsb3NlKGV2dCkpO1xyXG5cdFx0dGhpcy5jYWxsYmFja0Nsb3NlID0gKCgpID0+IHRoaXMuY2xvc2UoKSk7XHJcblx0XHR0aGlzLmNhbGxiYWNrT3V0Q2xpY2sgPSAoKGV2dCkgPT4gdGhpcy5faGFuZGxlT3V0c2lkZUNsaWNrQ2xvc2UoZXZ0KSk7XHJcblx0fVxyXG5cclxuXHRvcGVuKCl7XHJcblx0XHR0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblx0XHR0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuXHR9XHJcblxyXG5cdGNsb3NlKCl7XHJcblx0XHR0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuXHRcdHRoaXMuZGVsRXZlbnRMaXN0ZW5lcnMoKTtcclxuXHR9XHJcblxyXG5cdF9oYW5kbGVFc2NDbG9zZShldnQpe1xyXG5cdFx0aWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpe1xyXG5cdFx0ICB0aGlzLmNsb3NlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdF9oYW5kbGVPdXRzaWRlQ2xpY2tDbG9zZSAoZXZ0KXtcclxuXHRcdGlmIChldnQudGFyZ2V0ID09PSB0aGlzLl9wb3B1cEVsZW1lbnQpe1xyXG5cdFx0ICB0aGlzLmNsb3NlKCk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuXHRcdHRoaXMuX2J1dHRvbkNsb3NlUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNhbGxiYWNrQ2xvc2UpO1xyXG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuZXNjQ2xvc2UpO1xyXG5cdFx0dGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jYWxsYmFja091dENsaWNrKTtcclxuXHR9XHJcblxyXG5cdGRlbEV2ZW50TGlzdGVuZXJzKCl7XHJcblx0XHR0aGlzLl9idXR0b25DbG9zZVBvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jYWxsYmFja0Nsb3NlKTtcclxuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmVzY0Nsb3NlKTtcclxuXHRcdHRoaXMuX3BvcHVwRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2FsbGJhY2tPdXRDbGljaylcclxuXHJcblx0fVxyXG5cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKXtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG5cdCAgXHJcbiAgfVxyXG5cclxuICBvcGVuKGRhdGEpe1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcblx0ICBjb25zdCBiaWdTaXplUGljdHVyZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICAgIGNvbnN0IHBvcHVwSW1hZ2VIZWFkaW5nID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2hlYWRpbmctaW1hZ2VcIik7XHJcbiAgICBiaWdTaXplUGljdHVyZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgYmlnU2l6ZVBpY3R1cmUuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHBvcHVwSW1hZ2VIZWFkaW5nLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXB7XG5cdGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHtjYWxsYmFja1N1Ym1pdH0pe1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuXHRcdHRoaXMuX2NhbGxiYWNrU3VibWl0ID0gY2FsbGJhY2tTdWJtaXQ7XG5cdFx0dGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZ3JvdXBcIik7XG4gICAgdGhpcy5fYnV0dG9uU3VibWl0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZ3JvdXBfX2J1dHRvbi1zYXZlXCIpO1xuXHR9XG5cblx0X2dldElucHV0VmFsdWVzKCl7XG5cdFx0dGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tZ3JvdXBfX2l0ZW0nKSk7XG4gICAgdGhpcy5faW5wdXRMaXN0VmFsdWVzID0gdGhpcy5faW5wdXRMaXN0LnJlZHVjZSgocmVzdWx0LCBpdGVtKSA9PiB7XG4gICAgICByZXN1bHRbaXRlbS5uYW1lXSA9IGl0ZW0udmFsdWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0se30pO1xuXHRcdHJldHVybiB0aGlzLl9pbnB1dExpc3RWYWx1ZXM7XG5cdH1cblxuICBvcGVuKGRhdGEpe1xuICAgIGlmIChkYXRhKXtcbiAgICAgIGNvbnN0IGlucHV0Rmlyc25hbWUgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWdyb3VwX19pdGVtX2VsX25hbWUnKTtcbiAgICAgIGNvbnN0IGlucHV0Sm9iID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybS1ncm91cF9faXRlbV9lbF9qb2InKTtcbiAgICAgIGlucHV0Rmlyc25hbWUudmFsdWUgPSBkYXRhLm5hbWU7XG4gICAgICBpbnB1dEpvYi52YWx1ZSA9IGRhdGEuYWJvdXQ7XG4gICAgfVxuICAgIHN1cGVyLm9wZW4oKVxuICB9XG5cblx0c2V0RXZlbnRMaXN0ZW5lcnMoKXtcbiAgICB0aGlzLl9saXN0ZW5lciA9ICgoKSA9PiB7XG4gICAgICB0aGlzLl9jYWxsYmFja1N1Ym1pdCh7ZGF0YTogdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSwgYnV0dG9uOiB0aGlzLl9idXR0b25TdWJtaXR9KX0pO1xuXHRcdHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5fbGlzdGVuZXIpO1xuXHRcdHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cdH1cblxuXHRjbG9zZSgpe1xuXHRcdHN1cGVyLmNsb3NlKCk7XG5cdFx0dGhpcy5fZm9ybS5yZXNldCgpO1xuXHR9XG5cblx0ZGVsRXZlbnRMaXN0ZW5lcnMoKXtcblx0XHR0aGlzLl9mb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2xpc3RlbmVyKTtcblx0XHRzdXBlci5kZWxFdmVudExpc3RlbmVycygpO1xuXHR9XG5cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXB7XG5cdGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHtjYWxsYmFja1N1Ym1pdH0pe1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuXHRcdHRoaXMuX2NhbGxiYWNrU3VibWl0ID0gY2FsbGJhY2tTdWJtaXQ7XG5cdFx0dGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZ3JvdXBcIik7XG4gICAgdGhpcy5fYnV0dG9uU3VibWl0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZ3JvdXBfX2J1dHRvbi1zYXZlXCIpO1xuXHR9XG5cblx0b3BlbihkYXRhKXtcblx0XHR0aGlzLl9kYXRhID0gZGF0YTtcblx0XHRzdXBlci5vcGVuKCk7XG5cdH1cblxuXHRzZXRFdmVudExpc3RlbmVycygpe1xuICAgIHRoaXMuX2xpc3RlbmVyID0gKChldnQpID0+IHtcblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHR0aGlzLl9jYWxsYmFja1N1Ym1pdCh7ZGF0YTogdGhpcy5fZGF0YSwgYnV0dG9uOiB0aGlzLl9idXR0b25TdWJtaXR9KX0pO1xuXHRcdHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5fbGlzdGVuZXIpO1xuXHRcdHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cdH1cblxuXHRkZWxFdmVudExpc3RlbmVycygpe1xuXHRcdHRoaXMuX2Zvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5fbGlzdGVuZXIpO1xuXHRcdHN1cGVyLmRlbEV2ZW50TGlzdGVuZXJzKCk7XG5cdH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZve1xuXHRjb25zdHJ1Y3Rvcihwcm9maWxlSW5mb1NlbGVjdG9ycyl7XG5cdFx0dGhpcy5fbmFtZVByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVJbmZvU2VsZWN0b3JzLnByb2ZpbGVOYW1lKTtcblx0XHR0aGlzLl9hYm91dFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVJbmZvU2VsZWN0b3JzLnByb2ZpbGVBYm91dCk7XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUluZm9TZWxlY3RvcnMucHJvZmlsZUF2YXRhcik7XG5cdH1cblxuXHRnZXRVc2VySW5mbygpe1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lUHJvZmlsZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl9hYm91dFByb2ZpbGUudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX3Byb2ZpbGVBdmF0YXJcbiAgICB9XG5cdH1cblxuXHRzZXRVc2VySW5mbyhkYXRhKXtcbiAgICB0aGlzLl9uYW1lUHJvZmlsZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9hYm91dFByb2ZpbGUudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnKyBkYXRhLmF2YXRhciArJyknO1xuXHR9XG5cbn1cbiIsIlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucyl7XG5cdFx0dGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzXG5cdH1cblxuICBfZXJyb3JIYW5kbGVyIChyZXMpe1xuICAgIGlmIChyZXMub2spe1xuICAgICAgcmV0dXJuXHRyZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuXHRnZXRJbml0aWFsQ2FyZHMoKXtcblx0cmV0dXJuXHRmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy9jYXJkcycse1xuXHRcdFx0bWV0aG9kOiAnR0VUJyxcblx0XHRcdGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcblx0XHR9KVxuXHRcdC50aGVuKHJlcyA9PiB0aGlzLl9lcnJvckhhbmRsZXIocmVzKSlcblx0fVxuXG4gIGdldFVzZXJJbmZvKCl7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL3VzZXJzL21lJyx7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4ocmVzID0+IHRoaXMuX2Vycm9ySGFuZGxlcihyZXMpKVxuICB9XG5cbiAgZ2V0QWxsRGF0YSgpe1xuXHQgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRJbml0aWFsQ2FyZHMoKSwgdGhpcy5nZXRVc2VySW5mbygpXSlcbiAgfVxuXG4gIGNoYW5nZVVzZXJJbmZvKGRhdGEpe1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy91c2Vycy9tZScse1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgfSkudGhlbihyZXMgPT4gdGhpcy5fZXJyb3JIYW5kbGVyKHJlcykpO1xuICB9XG5cbiAgYWRkQ2FyZChkYXRhKXtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvY2FyZHMnLHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgfSkudGhlbihyZXMgPT4gdGhpcy5fZXJyb3JIYW5kbGVyKHJlcykpO1xuICB9XG5cbiAgZGVsQ2FyZChpZCl7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzLycgKyBpZCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcblx0XHRcdGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KS50aGVuKHJlcyA9PiB0aGlzLl9lcnJvckhhbmRsZXIocmVzKSk7XG4gIH1cblxuXHR0b2dnbGVMaWtlKGlkLCBzdGF0dXMpe1xuICAgIGlmICghc3RhdHVzKXtcblx0XHQgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy9jYXJkcy8nICsgaWQgKyAnL2xpa2VzJywge1xuICAgICAgIG1ldGhvZDogJ1BVVCcsXG5cdFx0ICBcdGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICAgfSkudGhlbihyZXMgPT4gdGhpcy5fZXJyb3JIYW5kbGVyKHJlcykpO1xuICAgIH1cbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvY2FyZHMvJyArIGlkICsgJy9saWtlcycsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG5cdFx0XHRoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSkudGhlbihyZXMgPT4gdGhpcy5fZXJyb3JIYW5kbGVyKHJlcykpO1xuXHR9XG5cbiAgY2hhbmdlQXZhdGFyKGRhdGEpe1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy91c2Vycy9tZS9hdmF0YXInLHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgIH0pLnRoZW4ocmVzID0+IHRoaXMuX2Vycm9ySGFuZGxlcihyZXMpKTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJ1xuY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9idXR0b25fcmVkdWN0XCIpO1xuY29uc3QgcmVkdWN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbmZvX19idXR0b24tcmVkdWN0XCIpO1xuY29uc3QgcHJvZmlsZUZvcm0gPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5mb3JtLWdyb3VwXCIpO1xuY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuY29uc3QgcG9wdXBBZGRJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9idXR0b25fYWRkLWl0ZW1cIik7XG5jb25zdCBjYXJkRm9ybSAgPSBwb3B1cEFkZEl0ZW0ucXVlcnlTZWxlY3RvcihcIi5mb3JtLWdyb3VwXCIpO1xuY29uc3QgaW1hZ2VUaXRsZSA9IHBvcHVwQWRkSXRlbS5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZ3JvdXBfX2l0ZW1fZWxfaW1hZ2UtdGl0bGVcIik7XG5jb25zdCBpbWFnZUxpbmsgPSBwb3B1cEFkZEl0ZW0ucXVlcnlTZWxlY3RvcihcIi5mb3JtLWdyb3VwX19pdGVtX2VsX2ltYWdlLWxpbmtcIik7XG5jb25zdCBhdmF0YXJQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfYnV0dG9uX2NoYW5nZS1hdmF0YXJcIik7XG5jb25zdCBhdmF0YXJGb3JtID0gYXZhdGFyUG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtLWdyb3VwXCIpO1xuY29uc3Qgb3B0aW9ucyA9IHtcbiAgYnV0dG9uU3VibWl0OiAnLmZvcm0tZ3JvdXBfX2J1dHRvbi1zYXZlJyxcbiAgaW5wdXRDbGFzczogJy5mb3JtLWdyb3VwX19pdGVtJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybS1ncm91cF9faXRlbV9lcnJvcicsXG4gIGJ1dHRvblN1Ym1pdEluYWN0aXZlQ2xhc3M6ICdmb3JtLWdyb3VwX19idXR0b24tc2F2ZV9pbmFjdGl2ZSdcbn07XG5pbXBvcnQge0NhcmR9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IHtGb3JtVmFsaWRhdG9yfSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBBcGkgZnJvbSAnLi4vc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyc7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MScsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiAnNWY1NGFhN2ItZjc4MS00YmJkLWE4NGEtYzlkNjVkNWM1NGVmJyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH1cbn0pO1xuXG5jb25zdCB2YWxpZGF0aW9uUHJvZmlsZUZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihvcHRpb25zLCBwcm9maWxlRm9ybSk7XG5jb25zdCB2YWxpZGF0aW9uYWRkQ2FyZEZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihvcHRpb25zLCBjYXJkRm9ybSk7XG5jb25zdCB2YWxpZGF0aW9uQ2hhbmdlQXZhdGFyRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKG9wdGlvbnMsIGF2YXRhckZvcm0pXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX2NvbnRlbnRfaW1hZ2UnKTtcbmNvbnN0IHByb2ZpbGVJbmZvU2VsZWN0b3JzID0ge3Byb2ZpbGVOYW1lOiBcIi5pbmZvX19uYW1lXCIsIHByb2ZpbGVBYm91dDogXCIuaW5mb19fYWJvdXRcIiwgcHJvZmlsZUF2YXRhcjogXCIucHJvZmlsZV9fYXZhdGFyXCJ9XG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhwcm9maWxlSW5mb1NlbGVjdG9ycyk7XG5cbmNvbnN0IHJlZHVjdFByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX2J1dHRvbl9yZWR1Y3RcIiwge2NhbGxiYWNrU3VibWl0OiAoZGF0YSkgPT4ge1xuICBkYXRhLmJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIlxuICBhcGkuY2hhbmdlVXNlckluZm8oZGF0YS5kYXRhKVxuICAgIC50aGVuKCh1c2VyRGF0YSkgPT57XG4gICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcbiAgICAgcmVkdWN0UHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiBkYXRhLmJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LjRgtGMXCIpXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xufX0pO1xuXG5hcGkuZ2V0QWxsRGF0YSgpXG4udGhlbigoYWxsRGF0YSkgPT4ge1xuICBjb25zdCBbaW5pdGlhbENhcmRzLCBzYXZlZFVzZXJJbmZvXSA9IGFsbERhdGE7XG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHNhdmVkVXNlckluZm8pO1xuICBpbml0aWFsQ2FyZHMucmV2ZXJzZSgpXG4gIGNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xuICAgIGRhdGE6IGluaXRpYWxDYXJkcyxcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChpdGVtLCBzYXZlZFVzZXJJbmZvLl9pZCwgXCIudGVtcGxhdGUtaXRlbVwiLCB7XG4gICAgICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xuICAgICAgICAgcG9wdXBXaXRoSW1hZ2Uub3BlbihpdGVtKVxuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVEZWxJY29uQ2xpY2s6IChkYXRhKSA9PiB7XG4gICAgICAgICBjb25maXJtRGVsQ2FyZC5vcGVuKGRhdGEpO1xuICAgICAgICB9LFxuICAgICAgIGhhbmRsZUxpa2VDbGljazogKGNhbGxiYWNrQ2FyZCkgPT4ge1xuICAgICAgICBhcGkudG9nZ2xlTGlrZShjYWxsYmFja0NhcmQuX2lkLCBjYXJkLmNoZWNrU3RhdHVzTGlrZSgpKVxuICAgICAgICAudGhlbigobmV3Q2FyZCkgPT57XG5cbiAgICAgICAgICBjYXJkLnRvZ2dsZUxpa2UobmV3Q2FyZClcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgICB9XG4gIH0sIFwiLmNhcmRzXCIpO1xuXG4gIGNhcmRMaXN0LnJlbmRlckl0ZW1zKCk7XG5cbiAgcmVkdWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICB2YWxpZGF0aW9uUHJvZmlsZUZvcm0udmFsaWRCZWZvcmVPcGVuRm9ybSgpO1xuICAgIHJlZHVjdFByb2ZpbGVQb3B1cC5vcGVuKHVzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xuICB9KTtcblxuICBjb25zdCBjaGFuZ2VBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX2J1dHRvbl9jaGFuZ2UtYXZhdGFyXCIsIHtjYWxsYmFja1N1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBkYXRhLmJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIlxuICAgIGFwaS5jaGFuZ2VBdmF0YXIoZGF0YS5kYXRhKVxuICAgIC50aGVuKChjYXJkKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhjYXJkKVxuICAgICAgY2hhbmdlQXZhdGFyUG9wdXAuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IGRhdGEuYnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtVwiKVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfX0pXG5cbiAgY29uc3QgYXZhdGFyID0gdXNlckluZm8uZ2V0VXNlckluZm8oKS5hdmF0YXJcbiAgYXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHZhbGlkYXRpb25DaGFuZ2VBdmF0YXJGb3JtLnZhbGlkQmVmb3JlT3BlbkZvcm0oKTtcbiAgICBjaGFuZ2VBdmF0YXJQb3B1cC5vcGVuKClcblxuICB9KVxuXG4gIGNvbnN0IGNvbmZpcm1EZWxDYXJkID0gbmV3IFBvcHVwV2l0aENvbmZpcm0oXCIucG9wdXBfYnV0dG9uX2NvbmZpcm0tZGVsXCIsIHtjYWxsYmFja1N1Ym1pdDogKGNhbGxiYWNrRGF0YSkgPT57XG4gICAgY2FsbGJhY2tEYXRhLmJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KPQtNCw0LvQtdC90LjQtS4uLlwiXG4gICAgYXBpLmRlbENhcmQoY2FsbGJhY2tEYXRhLmRhdGEuaWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgY2FsbGJhY2tEYXRhLmRhdGEucmVtb3ZlSXRlbSgpO1xuICAgICAgY29uZmlybURlbENhcmQuY2xvc2UoKVxuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4gY2FsbGJhY2tEYXRhLmJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0JTQsFwiKVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfX0pO1xuXG4gIGNvbnN0IGFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX2J1dHRvbl9hZGQtaXRlbVwiLCB7Y2FsbGJhY2tTdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgZGF0YS5idXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCJcbiAgICBhcGkuYWRkQ2FyZCh7bmFtZTogaW1hZ2VUaXRsZS52YWx1ZSwgbGluazogaW1hZ2VMaW5rLnZhbHVlfSlcbiAgICAudGhlbigoY2FyZCkgPT57XG4gICAgICBjYXJkTGlzdC5yZW5kZXJlcihjYXJkKTtcbiAgICAgIGFkZENhcmRQb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4gZGF0YS5idXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7Qt9C00LDRgtGMXCIpXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9fSk7XG5cbiAgYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpe1xuICAgIHZhbGlkYXRpb25hZGRDYXJkRm9ybS52YWxpZEJlZm9yZU9wZW5Gb3JtKCk7XG4gICAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcbiAgfSk7XG5cbiAgdmFsaWRhdGlvblByb2ZpbGVGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgdmFsaWRhdGlvbmFkZENhcmRGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgdmFsaWRhdGlvbkNoYW5nZUF2YXRhckZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xuXG59KVxuLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuIl0sIm5hbWVzIjpbIkNhcmQiLCJkYXRhIiwiaWQiLCJ0ZW1wbGF0ZSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbEljb25DbGljayIsImhhbmRsZUxpa2VDbGljayIsInRoaXMiLCJfZGF0YSIsIl9saWtlcyIsImxpa2VzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX3RlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX2l0ZW0iLCJfZ2V0VGVtcGxhdGUiLCJfZGVsQnV0dG9uIiwiX2xpa2VCdXR0b24iLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbEljb25DbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfbXlJZCIsIl9vd25lcklkIiwib3duZXIiLCJfaWQiLCJjYXJkSWQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwicmVtb3ZlIiwiX3JlbW92ZUJ1dHRvblRyYXNoIiwiY2hlY2tTdGF0dXNMaWtlIiwiY2xhc3NMaXN0IiwiYWRkIiwiX2NhcmRJbWFnZSIsIl9saWtlc0NvdW50IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJjb250YWlucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVJdGVtIiwiX3JlbW92ZUl0ZW0iLCJsaWtlc0lkIiwibWFwIiwiZWxlbSIsImluY2x1ZGVzIiwidG9nZ2xlIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1Gb3JWYWxpZCIsIl9pbnB1dExpc3QiLCJzb21lIiwiaW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2NvbmZpZyIsIl9mb3JtRm9yVmFsaWQiLCJfYnV0dG9uU3VibWl0IiwiYnV0dG9uU3VibWl0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0Q2xhc3MiLCJfc2V0RXZlbnRMaXN0ZW5lciIsImV2dCIsIl9oYW5kbGVJbnB1dEZvcm0iLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfaGlkZUlucHVFcnJvciIsIl9zaG93SW5wdXRFcm9yciIsImJ1dHRvblN1Ym1pdEluYWN0aXZlQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJfaGFzSW52YWxpZElucHV0IiwiX3NldEluYWN0aXZlQnV0dG9uU3RhdGUiLCJfc2V0QWN0aXZlQnV0dG9uU3RhdGUiLCJlcnJvck1lc3NhZ2UiLCJpbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImZvckVhY2giLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlZEl0ZW1zIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwiaXRlbSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfYnV0dG9uQ2xvc2VQb3B1cCIsImVzY0Nsb3NlIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2FsbGJhY2tDbG9zZSIsImNsb3NlIiwiY2FsbGJhY2tPdXRDbGljayIsIl9oYW5kbGVPdXRzaWRlQ2xpY2tDbG9zZSIsInNldEV2ZW50TGlzdGVuZXJzIiwiZGVsRXZlbnRMaXN0ZW5lcnMiLCJrZXkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoSW1hZ2UiLCJiaWdTaXplUGljdHVyZSIsInBvcHVwSW1hZ2VIZWFkaW5nIiwiUG9wdXBXaXRoRm9ybSIsImNhbGxiYWNrU3VibWl0IiwiX2NhbGxiYWNrU3VibWl0IiwiX2Zvcm0iLCJfaW5wdXRMaXN0VmFsdWVzIiwicmVkdWNlIiwicmVzdWx0IiwidmFsdWUiLCJpbnB1dEZpcnNuYW1lIiwiaW5wdXRKb2IiLCJhYm91dCIsIl9saXN0ZW5lciIsIl9nZXRJbnB1dFZhbHVlcyIsImJ1dHRvbiIsInJlc2V0IiwiUG9wdXBXaXRoQ29uZmlybSIsIlVzZXJJbmZvIiwicHJvZmlsZUluZm9TZWxlY3RvcnMiLCJfbmFtZVByb2ZpbGUiLCJwcm9maWxlTmFtZSIsIl9hYm91dFByb2ZpbGUiLCJwcm9maWxlQWJvdXQiLCJfcHJvZmlsZUF2YXRhciIsInByb2ZpbGVBdmF0YXIiLCJhdmF0YXIiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsIkFwaSIsIm9wdGlvbnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiX2Vycm9ySGFuZGxlciIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJJbmZvIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwb3B1cFByb2ZpbGUiLCJyZWR1Y3RCdXR0b24iLCJwcm9maWxlRm9ybSIsImFkZEJ1dHRvbiIsInBvcHVwQWRkSXRlbSIsImNhcmRGb3JtIiwiaW1hZ2VUaXRsZSIsImltYWdlTGluayIsImF2YXRhckZvcm0iLCJhcGkiLCJhdXRob3JpemF0aW9uIiwidmFsaWRhdGlvblByb2ZpbGVGb3JtIiwidmFsaWRhdGlvbmFkZENhcmRGb3JtIiwidmFsaWRhdGlvbkNoYW5nZUF2YXRhckZvcm0iLCJwb3B1cFdpdGhJbWFnZSIsInVzZXJJbmZvIiwicmVkdWN0UHJvZmlsZVBvcHVwIiwiY2hhbmdlVXNlckluZm8iLCJ1c2VyRGF0YSIsInNldFVzZXJJbmZvIiwiZmluYWxseSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImdldEFsbERhdGEiLCJhbGxEYXRhIiwiaW5pdGlhbENhcmRzIiwic2F2ZWRVc2VySW5mbyIsInJldmVyc2UiLCJjYXJkTGlzdCIsImNhcmQiLCJvcGVuIiwiY29uZmlybURlbENhcmQiLCJjYWxsYmFja0NhcmQiLCJ0b2dnbGVMaWtlIiwibmV3Q2FyZCIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwidmFsaWRCZWZvcmVPcGVuRm9ybSIsImNoYW5nZUF2YXRhclBvcHVwIiwiY2hhbmdlQXZhdGFyIiwiY2FsbGJhY2tEYXRhIiwiZGVsQ2FyZCIsImFkZENhcmRQb3B1cCIsImFkZENhcmQiLCJlbmFibGVWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==