(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(t,n,r,o){var i=o.handleCardClick,a=o.handleDelIconClick,u=o.handleLikeClick;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._name=t.name,this._link=t.link,this._templateSelector=r,this._handleCardClick=i,this._handleDelIconClick=a,this._handleLikeClick=u,this._myId=n,this._ownerId=t.owner._id,this.cardId=t._id}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){return this._template.content.querySelector(".item").cloneNode(!0)}},{key:"_removeButtonTrash",value:function(){this._delButton.style.display="none"}},{key:"generateCard",value:function(){return this._template=document.querySelector(this._templateSelector),this._item=this._getTemplate(),this._delButton=this._item.querySelector(".item__delete"),this._likeButton=this._item.querySelector(".item__like"),this._ownerId!==this._myId&&this._removeButtonTrash(),this.checkStatusLike()&&this._changeColorLike(),this._cardImage=this._item.querySelector(".item__picture"),this._likesCount=this._item.querySelector(".item__like-count"),this._setEventListeners(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._setLikeCount(this._data.likes),this._item.querySelector(".item__title").textContent=this._name,this._item}},{key:"_setEventListeners",value:function(){var t=this;this._item.contains(this._delButton)&&this._delButton.addEventListener("click",(function(){return t._handleDelIconClick({id:t.cardId,removeItem:function(){return t._removeItem()}})})),this._likeButton.addEventListener("click",(function(){return t._handleLikeClick(t._data)})),this._cardImage.addEventListener("click",this._handleCardClick)}},{key:"_removeItem",value:function(){this._item.remove(),this._item=null}},{key:"checkStatusLike",value:function(){var t=this;return this._data.likes.some((function(e){return e._id===t._myId}))}},{key:"_changeColorLike",value:function(){this._likeButton.classList.toggle("item__like_active")}},{key:"_setLikeCount",value:function(){this._likesCount.textContent=this._data.likes.length}},{key:"updateData",value:function(t){this._data.likes=t.likes}},{key:"toggleLike",value:function(){this._changeColorLike(),this._setLikeCount()}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(e,n){var r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(){return i._inputList.some((function(t){return!t.validity.valid}))},(r="_hasInvalidInput")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._config=e,this._formForValid=n,this._buttonSubmit=n.querySelector(e.buttonSubmit),this._inputList=Array.from(n.querySelectorAll(e.inputClass))}var e,r;return e=t,(r=[{key:"enableValidation",value:function(){this._setEventListener()}},{key:"_setEventListener",value:function(){var t=this;this._formForValid.addEventListener("input",(function(e){return t._handleInputForm(e)})),this._formForValid.addEventListener("submit",(function(t){t.preventDefault()}))}},{key:"_handleInputForm",value:function(t){var e=t.target;this._toggleButtonState(),this._checkInputValidity(e)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInpuError(t):this._showInputErorr(t)}},{key:"_setActiveButtonState",value:function(){this._buttonSubmit.classList.remove(this._config.buttonSubmitInactiveClass),this._buttonSubmit.removeAttribute("disabled")}},{key:"_setInactiveButtonState",value:function(){this._buttonSubmit.classList.add(this._config.buttonSubmitInactiveClass),this._buttonSubmit.setAttribute("disabled","true")}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._setInactiveButtonState():this._setActiveButtonState()}},{key:"_showInputErorr",value:function(t){var e=this._formForValid.querySelector("#".concat(t.id,"-error"));t.classList.add(this._config.inputErrorClass),e.textContent=t.validationMessage}},{key:"_hideInpuError",value:function(t){var e=this._formForValid.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._config.inputErrorClass),e.textContent=""}},{key:"validBeforeOpenForm",value:function(){var t=this;this._inputList.forEach((function(e){t._hideInpuError(e)})),this._toggleButtonState()}}])&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderItems",value:function(t){t.forEach(this._renderer)}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupElement=document.querySelector(e),this._handleOutsideClickClose=this._handleOutsideClickClose.bind(this),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this.setEventListeners(),this._popupElement.classList.add("popup_opened")}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),this.delEventListeners()}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_handleOutsideClickClose",value:function(t){(t.target===this._popupElement||t.target.classList.contains("popup__button-close"))&&this.close()}},{key:"setEventListeners",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popupElement.addEventListener("click",this._handleOutsideClickClose)}},{key:"delEventListeners",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popupElement.removeEventListener("click",this._handleOutsideClickClose)}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=f(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},s.apply(this,arguments)}function f(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function h(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(o){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function a(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,t)}return e=a,(n=[{key:"open",value:function(t){var e=this._popupElement.querySelector(".popup__image"),n=this._popupElement.querySelector(".popup__heading-image");e.src=t.link,e.alt=t.name,n.textContent=t.name,s(d(a.prototype),"open",this).call(this)}}])&&l(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(u);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=v(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},m.apply(this,arguments)}function v(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}function k(t,e){return k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k(t,e)}function g(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S(r);if(o){var n=S(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return g(this,t)});function a(t,e){var n,r=e.callbackSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._callbackSubmit=r,n._form=n._popupElement.querySelector(".form-group"),n._buttonSubmit=n._form.querySelector(".form-group__button-save"),n}return e=a,(n=[{key:"_getInputValues",value:function(){return this._inputList=Array.from(this._popupElement.querySelectorAll(".form-group__item")),this._inputListValues=this._inputList.reduce((function(t,e){return t[e.name]=e.value,t}),{}),this._inputListValues}},{key:"setEventListeners",value:function(){var t=this;this._listener=function(){t._callbackSubmit({data:t._getInputValues(),button:t._buttonSubmit})},this._form.addEventListener("submit",this._listener),m(S(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){m(S(a.prototype),"close",this).call(this),this._form.reset()}},{key:"delEventListeners",value:function(){this._form.removeEventListener("submit",this._listener),m(S(a.prototype),"delEventListeners",this).call(this)}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(u);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=L(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},O.apply(this,arguments)}function L(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}function I(t,e){return I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},I(t,e)}function j(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=P(r);if(o){var n=P(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return j(this,t)});function a(t,e){var n,r=e.callbackSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._callbackSubmit=r,n._form=n._popupElement.querySelector(".form-group"),n._buttonSubmit=n._form.querySelector(".form-group__button-save"),n}return e=a,(n=[{key:"open",value:function(t){this._data=t,O(P(a.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var t=this;this._listener=function(e){e.preventDefault(),t._callbackSubmit({data:t._data,button:t._buttonSubmit})},this._form.addEventListener("submit",this._listener),O(P(a.prototype),"setEventListeners",this).call(this)}},{key:"delEventListeners",value:function(){this._form.removeEventListener("submit",this._listener),O(P(a.prototype),"delEventListeners",this).call(this)}}])&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(u);function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameProfile=document.querySelector(e.profileName),this._aboutProfile=document.querySelector(e.profileAbout),this._profileAvatar=document.querySelector(e.profileAvatar)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._nameProfile.textContent,about:this._aboutProfile.textContent,avatar:this._profileAvatar}}},{key:"setUserInfo",value:function(t){this._nameProfile.textContent=t.name,this._aboutProfile.textContent=t.about,this._profileAvatar.style.backgroundImage="url(".concat(t.avatar,")")}}])&&q(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var B=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._headers=e.headers}var e,n;return e=t,(n=[{key:"_handleResponse",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"getAllData",value:function(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}},{key:"changeUserInfo",value:function(t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(t)}).then(this._handleResponse)}},{key:"addCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(t)}).then(this._handleResponse)}},{key:"delCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"toggleLike",value:function(t,e){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:e?"DELETE":"PUT",headers:this._headers}).then(this._handleResponse)}},{key:"changeAvatar",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify(t)}).then(this._handleResponse)}}])&&A(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),x=document.querySelector(".popup_button_reduct"),U=document.querySelector(".info__button-reduct"),D=x.querySelector(".form-group"),V=D.querySelector(".form-group__item_el_name"),F=D.querySelector(".form-group__item_el_job"),N=document.querySelector(".profile__add-button"),J=document.querySelector(".popup_button_add-item").querySelector(".form-group"),G=document.querySelector(".popup_button_change-avatar"),H=document.querySelector(".profile__avatar"),M=G.querySelector(".form-group"),z={buttonSubmit:".form-group__button-save",inputClass:".form-group__item",inputErrorClass:"form-group__item_error",buttonSubmitInactiveClass:"form-group__button-save_inactive"};function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var K=new B({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-41",headers:{authorization:"5f54aa7b-f781-4bbd-a84a-c9d65d5c54ef","Content-Type":"application/json"}}),Q=new r(z,D),W=new r(z,J),X=new r(z,M),Y=new y(".popup_content_image"),Z=new T({profileName:".info__name",profileAbout:".info__about",profileAvatar:".profile__avatar"}),tt=new w(".popup_button_reduct",{callbackSubmit:function(t){t.button.textContent="Сохранение...",K.changeUserInfo(t.data).then((function(t){Z.setUserInfo(t),tt.close()})).finally((function(){return t.button.textContent="Сохранить"})).catch((function(t){return console.log(t)}))}}),et="",nt=function(t){var n=new e(t,et,".template-item",{handleCardClick:function(){Y.open(t)},handleDelIconClick:function(t){it.open(t)},handleLikeClick:function(t){K.toggleLike(t._id,n.checkStatusLike()).then((function(t){n.updateData(t),n.toggleLike()})).catch((function(t){return console.log(t)}))}});return n.generateCard()},rt=new i({renderer:function(t){rt.addItem(nt(t))}},".cards");K.getAllData().then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];et=i._id,Z.setUserInfo(i),rt.renderItems(o)})).catch((function(t){return console.log(t)})),U.addEventListener("click",(function(){Q.validBeforeOpenForm();var t=Z.getUserInfo(),e=t.name,n=t.about;V.value=e,F.value=n,tt.open()}));var ot=new w(".popup_button_change-avatar",{callbackSubmit:function(t){t.button.textContent="Сохранение...",K.changeAvatar(t.data).then((function(t){Z.setUserInfo(t),ot.close()})).finally((function(){return t.button.textContent="Сохранение"})).catch((function(t){return console.log(t)}))}});H.addEventListener("click",(function(){X.validBeforeOpenForm(),ot.open()}));var it=new R(".popup_button_confirm-del",{callbackSubmit:function(t){t.button.textContent="Удаление...",K.delCard(t.data.id).then((function(){t.data.removeItem(),it.close()})).finally((function(){return t.button.textContent="Да"})).catch((function(t){return console.log(t)}))}}),at=new w(".popup_button_add-item",{callbackSubmit:function(t){var e=t.data,n=t.button;n.textContent="Сохранение...",K.addCard({name:e.title,link:e.link}).then((function(t){rt.addItem(nt(t)),at.close()})).finally((function(){return n.textContent="Создать"})).catch((function(t){return console.log(t)}))}});N.addEventListener("click",(function(){W.validBeforeOpenForm(),at.open()})),Q.enableValidation(),W.enableValidation(),X.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUN0QzRILEVBQXNCNkIsc0JBQ3RCSyxHQUFhbEIsVUFHZmpCLEVBQXNCc0MsbUJBQ3RCckMsRUFBc0JxQyxtQkFDdEJwQyxFQUEyQm9DLG9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBpZCwgdGVtcGxhdGVTZWxlY3RvciwgeyBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZURlbEljb25DbGljaywgaGFuZGxlTGlrZUNsaWNrIH0pIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3JcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsSWNvbkNsaWNrID0gaGFuZGxlRGVsSWNvbkNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcbiAgICB0aGlzLl9teUlkID0gaWQ7XG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xuICAgIHRoaXMuY2FyZElkID0gZGF0YS5faWQ7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5pdGVtXCIpLmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuXG4gIF9yZW1vdmVCdXR0b25UcmFzaCgpIHtcbiAgICB0aGlzLl9kZWxCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX3RlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9pdGVtID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9kZWxCdXR0b24gPSB0aGlzLl9pdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuaXRlbV9fZGVsZXRlXCIpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9pdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuaXRlbV9fbGlrZVwiKTtcbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fbXlJZCkge1xuICAgICAgdGhpcy5fcmVtb3ZlQnV0dG9uVHJhc2goKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2hlY2tTdGF0dXNMaWtlKCkpIHtcbiAgICAgIHRoaXMuX2NoYW5nZUNvbG9yTGlrZSgpO1xuICAgIH1cbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9pdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuaXRlbV9fcGljdHVyZVwiKTtcbiAgICB0aGlzLl9saWtlc0NvdW50ID0gdGhpcy5faXRlbS5xdWVyeVNlbGVjdG9yKFwiLml0ZW1fX2xpa2UtY291bnRcIik7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9zZXRMaWtlQ291bnQodGhpcy5fZGF0YS5saWtlcyk7XG4gICAgdGhpcy5faXRlbS5xdWVyeVNlbGVjdG9yKFwiLml0ZW1fX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICByZXR1cm4gdGhpcy5faXRlbTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBpZiAodGhpcy5faXRlbS5jb250YWlucyh0aGlzLl9kZWxCdXR0b24pKSB7XG4gICAgICB0aGlzLl9kZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgICAgIHRoaXMuX2hhbmRsZURlbEljb25DbGljayh7XG4gICAgICAgICAgaWQ6IHRoaXMuY2FyZElkLFxuICAgICAgICAgIHJlbW92ZUl0ZW06ICgpID0+IHRoaXMuX3JlbW92ZUl0ZW0oKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzLl9kYXRhKSk7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDYXJkQ2xpY2spO1xuICB9XG5cbiAgX3JlbW92ZUl0ZW0oKSB7XG4gICAgdGhpcy5faXRlbS5yZW1vdmUoKTtcbiAgICB0aGlzLl9pdGVtID0gbnVsbDtcbiAgfVxuXG4gIGNoZWNrU3RhdHVzTGlrZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5saWtlcy5zb21lKChpdGVtKSA9PiBpdGVtLl9pZCA9PT0gdGhpcy5fbXlJZCk7XG4gIH1cblxuICBfY2hhbmdlQ29sb3JMaWtlKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcIml0ZW1fX2xpa2VfYWN0aXZlXCIpO1xuICB9XG5cbiAgX3NldExpa2VDb3VudCgpIHtcbiAgICB0aGlzLl9saWtlc0NvdW50LnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5saWtlcy5sZW5ndGg7XG4gIH1cblxuICB1cGRhdGVEYXRhKGRhdGEpIHtcbiAgICB0aGlzLl9kYXRhLmxpa2VzID0gZGF0YS5saWtlcztcbiAgfVxuXG4gIHRvZ2dsZUxpa2UoKSB7XG4gICAgdGhpcy5fY2hhbmdlQ29sb3JMaWtlKCk7XG4gICAgdGhpcy5fc2V0TGlrZUNvdW50KCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ2FyZCB9O1xuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUZvclZhbGlkKSB7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX2Zvcm1Gb3JWYWxpZCA9IGZvcm1Gb3JWYWxpZDtcbiAgICB0aGlzLl9idXR0b25TdWJtaXQgPSBmb3JtRm9yVmFsaWQucXVlcnlTZWxlY3Rvcihjb25maWcuYnV0dG9uU3VibWl0KTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1Gb3JWYWxpZC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dENsYXNzKSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXIoKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xuICAgIHRoaXMuX2Zvcm1Gb3JWYWxpZC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2dCkgPT4gdGhpcy5faGFuZGxlSW5wdXRGb3JtKGV2dCkpO1xuICAgIHRoaXMuX2Zvcm1Gb3JWYWxpZC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgX2hhbmRsZUlucHV0Rm9ybShldnQpIHtcbiAgICBjb25zdCBpbnB1dCA9IGV2dC50YXJnZXQ7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCkge1xuICAgIGNvbnN0IGlzVmFsaWRJbnB1dCA9IGlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICAgIGlmICghaXNWYWxpZElucHV0KSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcm9ycihpbnB1dCk7XG4gICAgfSBlbHNlIHRoaXMuX2hpZGVJbnB1RXJyb3IoaW5wdXQpO1xuICB9XG5cbiAgX3NldEFjdGl2ZUJ1dHRvblN0YXRlKCkge1xuICAgIHRoaXMuX2J1dHRvblN1Ym1pdC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5idXR0b25TdWJtaXRJbmFjdGl2ZUNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25TdWJtaXQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gIH1cblxuICBfc2V0SW5hY3RpdmVCdXR0b25TdGF0ZSgpIHtcbiAgICB0aGlzLl9idXR0b25TdWJtaXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuYnV0dG9uU3VibWl0SW5hY3RpdmVDbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uU3VibWl0LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9zZXRBY3RpdmVCdXR0b25TdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zZXRJbmFjdGl2ZUJ1dHRvblN0YXRlKCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3dJbnB1dEVyb3JyKGlucHV0KSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdGhpcy5fZm9ybUZvclZhbGlkLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gIH1cblxuICBfaGlkZUlucHVFcnJvcihpbnB1dCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRoaXMuX2Zvcm1Gb3JWYWxpZC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZS50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH07XG4gIHZhbGlkQmVmb3JlT3BlbkZvcm0oKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdUVycm9yKGlucHV0KTtcbiAgICB9KTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9XG59XG5cbmV4cG9ydCB7IEZvcm1WYWxpZGF0b3IgfTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoZGF0YSkge1xuICAgIGRhdGEuZm9yRWFjaCh0aGlzLl9yZW5kZXJlcik7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlT3V0c2lkZUNsaWNrQ2xvc2UgPSB0aGlzLl9oYW5kbGVPdXRzaWRlQ2xpY2tDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG4gICAgdGhpcy5kZWxFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIF9oYW5kbGVPdXRzaWRlQ2xpY2tDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXBFbGVtZW50IHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2J1dHRvbi1jbG9zZVwiKSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZU91dHNpZGVDbGlja0Nsb3NlKTtcbiAgfVxuXG4gIGRlbEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZU91dHNpZGVDbGlja0Nsb3NlKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgb3BlbihkYXRhKSB7XG4gICAgY29uc3QgYmlnU2l6ZVBpY3R1cmUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XG4gICAgY29uc3QgcG9wdXBJbWFnZUhlYWRpbmcgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faGVhZGluZy1pbWFnZVwiKTtcbiAgICBiaWdTaXplUGljdHVyZS5zcmMgPSBkYXRhLmxpbms7XG4gICAgYmlnU2l6ZVBpY3R1cmUuYWx0ID0gZGF0YS5uYW1lO1xuICAgIHBvcHVwSW1hZ2VIZWFkaW5nLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCB7IGNhbGxiYWNrU3VibWl0IH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9jYWxsYmFja1N1Ym1pdCA9IGNhbGxiYWNrU3VibWl0O1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWdyb3VwXCIpO1xuICAgIHRoaXMuX2J1dHRvblN1Ym1pdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtLWdyb3VwX19idXR0b24tc2F2ZVwiKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm0tZ3JvdXBfX2l0ZW1cIikpO1xuICAgIHRoaXMuX2lucHV0TGlzdFZhbHVlcyA9IHRoaXMuX2lucHV0TGlzdC5yZWR1Y2UoKHJlc3VsdCwgaXRlbSkgPT4ge1xuICAgICAgcmVzdWx0W2l0ZW0ubmFtZV0gPSBpdGVtLnZhbHVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCB7fSk7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdFZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2xpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgdGhpcy5fY2FsbGJhY2tTdWJtaXQoe1xuICAgICAgICBkYXRhOiB0aGlzLl9nZXRJbnB1dFZhbHVlcygpLFxuICAgICAgICBidXR0b246IHRoaXMuX2J1dHRvblN1Ym1pdCxcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2xpc3RlbmVyKTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gIH1cblxuICBkZWxFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9mb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5fbGlzdGVuZXIpO1xuICAgIHN1cGVyLmRlbEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCB7IGNhbGxiYWNrU3VibWl0IH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9jYWxsYmFja1N1Ym1pdCA9IGNhbGxiYWNrU3VibWl0O1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWdyb3VwXCIpO1xuICAgIHRoaXMuX2J1dHRvblN1Ym1pdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtLWdyb3VwX19idXR0b24tc2F2ZVwiKTtcbiAgfVxuXG4gIG9wZW4oZGF0YSkge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2xpc3RlbmVyID0gKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9jYWxsYmFja1N1Ym1pdCh7IGRhdGE6IHRoaXMuX2RhdGEsIGJ1dHRvbjogdGhpcy5fYnV0dG9uU3VibWl0IH0pO1xuICAgIH07XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2xpc3RlbmVyKTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgZGVsRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2xpc3RlbmVyKTtcbiAgICBzdXBlci5kZWxFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHByb2ZpbGVJbmZvU2VsZWN0b3JzKSB7XG4gICAgdGhpcy5fbmFtZVByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVJbmZvU2VsZWN0b3JzLnByb2ZpbGVOYW1lKTtcbiAgICB0aGlzLl9hYm91dFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVJbmZvU2VsZWN0b3JzLnByb2ZpbGVBYm91dCk7XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUluZm9TZWxlY3RvcnMucHJvZmlsZUF2YXRhcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZVByb2ZpbGUudGV4dENvbnRlbnQsXG4gICAgICBhYm91dDogdGhpcy5fYWJvdXRQcm9maWxlLnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLl9wcm9maWxlQXZhdGFyLFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgdGhpcy5fbmFtZVByb2ZpbGUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fYWJvdXRQcm9maWxlLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHtkYXRhLmF2YXRhcn0pYDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIF9oYW5kbGVSZXNwb25zZShyZXMpIHtcbiAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIGdldEFsbERhdGEoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldEluaXRpYWxDYXJkcygpLCB0aGlzLmdldFVzZXJJbmZvKCldKTtcbiAgfVxuXG4gIGNoYW5nZVVzZXJJbmZvKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIGFkZENhcmQoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBkZWxDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIHRvZ2dsZUxpa2UoaWQsIHN0YXR1cykge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogc3RhdHVzID8gXCJERUxFVEVcIiA6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgY2hhbmdlQXZhdGFyKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cbn1cbiIsImNvbnN0IHBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfYnV0dG9uX3JlZHVjdFwiKTtcbmNvbnN0IHJlZHVjdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW5mb19fYnV0dG9uLXJlZHVjdFwiKTtcbmNvbnN0IHByb2ZpbGVGb3JtID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1ncm91cFwiKTtcbmNvbnN0IGlucHV0Rmlyc25hbWUgPSBwcm9maWxlRm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZ3JvdXBfX2l0ZW1fZWxfbmFtZVwiKTtcbmNvbnN0IGlucHV0Sm9iID0gcHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtLWdyb3VwX19pdGVtX2VsX2pvYlwiKTtcbmNvbnN0IGJ1dHRvbkFkZENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5jb25zdCBwb3B1cEFkZEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2J1dHRvbl9hZGQtaXRlbVwiKTtcbmNvbnN0IGNhcmRGb3JtID0gcG9wdXBBZGRJdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1ncm91cFwiKTtcbmNvbnN0IGF2YXRhclBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9idXR0b25fY2hhbmdlLWF2YXRhclwiKTtcbmNvbnN0IGF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpXG5jb25zdCBhdmF0YXJGb3JtID0gYXZhdGFyUG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtLWdyb3VwXCIpO1xuY29uc3Qgb3B0aW9ucyA9IHtcbiAgYnV0dG9uU3VibWl0OiBcIi5mb3JtLWdyb3VwX19idXR0b24tc2F2ZVwiLFxuICBpbnB1dENsYXNzOiBcIi5mb3JtLWdyb3VwX19pdGVtXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtLWdyb3VwX19pdGVtX2Vycm9yXCIsXG4gIGJ1dHRvblN1Ym1pdEluYWN0aXZlQ2xhc3M6IFwiZm9ybS1ncm91cF9fYnV0dG9uLXNhdmVfaW5hY3RpdmVcIixcbn07XG5cbmV4cG9ydCB7XG4gIHJlZHVjdEJ1dHRvbixcbiAgcHJvZmlsZUZvcm0sXG4gIGlucHV0Rmlyc25hbWUsXG4gIGlucHV0Sm9iLFxuICBidXR0b25BZGRDYXJkLFxuICBjYXJkRm9ybSxcbiAgYXZhdGFyRm9ybSxcbiAgb3B0aW9ucyxcbiAgYXZhdGFyQnV0dG9uXG59O1xuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IHtcbiAgcmVkdWN0QnV0dG9uLFxuICBwcm9maWxlRm9ybSxcbiAgaW5wdXRGaXJzbmFtZSxcbiAgaW5wdXRKb2IsXG4gIGJ1dHRvbkFkZENhcmQsXG4gIGNhcmRGb3JtLFxuICBhdmF0YXJGb3JtLFxuICBvcHRpb25zLFxuICBhdmF0YXJCdXR0b24sXG59IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzL3V0aWxzLmpzXCI7XG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjVmNTRhYTdiLWY3ODEtNGJiZC1hODRhLWM5ZDY1ZDVjNTRlZlwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbmNvbnN0IHZhbGlkYXRpb25Qcm9maWxlRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKG9wdGlvbnMsIHByb2ZpbGVGb3JtKTtcbmNvbnN0IHZhbGlkYXRpb25hZGRDYXJkRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKG9wdGlvbnMsIGNhcmRGb3JtKTtcbmNvbnN0IHZhbGlkYXRpb25DaGFuZ2VBdmF0YXJGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3Iob3B0aW9ucywgYXZhdGFyRm9ybSk7XG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF9jb250ZW50X2ltYWdlXCIpO1xuY29uc3QgcHJvZmlsZUluZm9TZWxlY3RvcnMgPSB7XG4gIHByb2ZpbGVOYW1lOiBcIi5pbmZvX19uYW1lXCIsXG4gIHByb2ZpbGVBYm91dDogXCIuaW5mb19fYWJvdXRcIixcbiAgcHJvZmlsZUF2YXRhcjogXCIucHJvZmlsZV9fYXZhdGFyXCIsXG59O1xuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8ocHJvZmlsZUluZm9TZWxlY3RvcnMpO1xuXG5jb25zdCByZWR1Y3RQcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9idXR0b25fcmVkdWN0XCIsIHtcbiAgY2FsbGJhY2tTdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgZGF0YS5idXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XG4gICAgYXBpXG4gICAgICAuY2hhbmdlVXNlckluZm8oZGF0YS5kYXRhKVxuICAgICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcbiAgICAgICAgcmVkdWN0UHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4gKGRhdGEuYnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QuNGC0YxcIikpXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gIH0sXG59KTtcblxubGV0IG15SWQgPSBcIlwiO1xuY29uc3QgY3JlYXRlQ2FyZCA9IChpdGVtKSA9PiB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChpdGVtLCBteUlkLCBcIi50ZW1wbGF0ZS1pdGVtXCIsIHtcbiAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcbiAgICAgIHBvcHVwV2l0aEltYWdlLm9wZW4oaXRlbSk7XG4gICAgfSxcbiAgICBoYW5kbGVEZWxJY29uQ2xpY2s6IChkYXRhKSA9PiB7XG4gICAgICBjb25maXJtRGVsQ2FyZC5vcGVuKGRhdGEpO1xuICAgIH0sXG4gICAgaGFuZGxlTGlrZUNsaWNrOiAoY2FsbGJhY2tDYXJkKSA9PiB7XG4gICAgICBhcGlcbiAgICAgICAgLnRvZ2dsZUxpa2UoY2FsbGJhY2tDYXJkLl9pZCwgY2FyZC5jaGVja1N0YXR1c0xpa2UoKSlcbiAgICAgICAgLnRoZW4oKG5ld0NhcmQpID0+IHtcbiAgICAgICAgICBjYXJkLnVwZGF0ZURhdGEobmV3Q2FyZCk7XG4gICAgICAgICAgY2FyZC50b2dnbGVMaWtlKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgICB9LFxuICB9KTtcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG59O1xuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKTtcbiAgICB9LFxuICB9LFxuICBcIi5jYXJkc1wiXG4pO1xuXG5hcGlcbiAgLmdldEFsbERhdGEoKVxuICAudGhlbigoW2luaXRpYWxDYXJkcywgc2F2ZWRVc2VySW5mb10pID0+IHtcbiAgICBteUlkID0gc2F2ZWRVc2VySW5mby5faWQ7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oc2F2ZWRVc2VySW5mbyk7XG4gICAgY2FyZExpc3QucmVuZGVySXRlbXMoaW5pdGlhbENhcmRzKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuXG5yZWR1Y3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgdmFsaWRhdGlvblByb2ZpbGVGb3JtLnZhbGlkQmVmb3JlT3BlbkZvcm0oKTtcbiAgY29uc3QgeyBuYW1lLCBhYm91dCB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgaW5wdXRGaXJzbmFtZS52YWx1ZSA9IG5hbWU7XG4gIGlucHV0Sm9iLnZhbHVlID0gYWJvdXQ7XG4gIHJlZHVjdFByb2ZpbGVQb3B1cC5vcGVuKCk7XG59KTtcblxuY29uc3QgY2hhbmdlQXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9idXR0b25fY2hhbmdlLWF2YXRhclwiLCB7XG4gIGNhbGxiYWNrU3VibWl0OiAoZGF0YSkgPT4ge1xuICAgIGRhdGEuYnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuICAgIGFwaVxuICAgICAgLmNoYW5nZUF2YXRhcihkYXRhLmRhdGEpXG4gICAgICAudGhlbigoY2FyZCkgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhjYXJkKTtcbiAgICAgICAgY2hhbmdlQXZhdGFyUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiAoZGF0YS5idXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1XCIpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9LFxufSk7XG5cbmF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICB2YWxpZGF0aW9uQ2hhbmdlQXZhdGFyRm9ybS52YWxpZEJlZm9yZU9wZW5Gb3JtKCk7XG4gIGNoYW5nZUF2YXRhclBvcHVwLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBjb25maXJtRGVsQ2FyZCA9IG5ldyBQb3B1cFdpdGhDb25maXJtKFwiLnBvcHVwX2J1dHRvbl9jb25maXJtLWRlbFwiLCB7XG4gIGNhbGxiYWNrU3VibWl0OiAoY2FsbGJhY2tEYXRhKSA9PiB7XG4gICAgY2FsbGJhY2tEYXRhLmJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KPQtNCw0LvQtdC90LjQtS4uLlwiO1xuICAgIGFwaVxuICAgICAgLmRlbENhcmQoY2FsbGJhY2tEYXRhLmRhdGEuaWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrRGF0YS5kYXRhLnJlbW92ZUl0ZW0oKTtcbiAgICAgICAgY29uZmlybURlbENhcmQuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiAoY2FsbGJhY2tEYXRhLmJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0JTQsFwiKSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfSxcbn0pO1xuXG5jb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9idXR0b25fYWRkLWl0ZW1cIiwge1xuICBjYWxsYmFja1N1Ym1pdDogKHsgZGF0YSwgYnV0dG9uIH0pID0+IHtcbiAgICBidXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCI7XG4gICAgYXBpXG4gICAgICAuYWRkQ2FyZCh7IG5hbWU6IGRhdGEudGl0bGUsIGxpbms6IGRhdGEubGluayB9KVxuICAgICAgLnRoZW4oKGNhcmQpID0+IHtcbiAgICAgICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGNhcmQpKTtcbiAgICAgICAgYWRkQ2FyZFBvcHVwLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4gKGJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtC30LTQsNGC0YxcIikpXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gIH0sXG59KTtcblxuYnV0dG9uQWRkQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICB2YWxpZGF0aW9uYWRkQ2FyZEZvcm0udmFsaWRCZWZvcmVPcGVuRm9ybSgpO1xuICBhZGRDYXJkUG9wdXAub3BlbigpO1xufSk7XG5cbnZhbGlkYXRpb25Qcm9maWxlRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG52YWxpZGF0aW9uYWRkQ2FyZEZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xudmFsaWRhdGlvbkNoYW5nZUF2YXRhckZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xuIl0sIm5hbWVzIjpbIkNhcmQiLCJkYXRhIiwiaWQiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsSWNvbkNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwidGhpcyIsIl9kYXRhIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbEljb25DbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfbXlJZCIsIl9vd25lcklkIiwib3duZXIiLCJfaWQiLCJjYXJkSWQiLCJfdGVtcGxhdGUiLCJjb250ZW50IiwicXVlcnlTZWxlY3RvciIsImNsb25lTm9kZSIsIl9kZWxCdXR0b24iLCJzdHlsZSIsImRpc3BsYXkiLCJkb2N1bWVudCIsIl9pdGVtIiwiX2dldFRlbXBsYXRlIiwiX2xpa2VCdXR0b24iLCJfcmVtb3ZlQnV0dG9uVHJhc2giLCJjaGVja1N0YXR1c0xpa2UiLCJfY2hhbmdlQ29sb3JMaWtlIiwiX2NhcmRJbWFnZSIsIl9saWtlc0NvdW50IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic3JjIiwiYWx0IiwiX3NldExpa2VDb3VudCIsImxpa2VzIiwidGV4dENvbnRlbnQiLCJjb250YWlucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVJdGVtIiwiX3JlbW92ZUl0ZW0iLCJyZW1vdmUiLCJzb21lIiwiaXRlbSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImxlbmd0aCIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRm9yVmFsaWQiLCJfaW5wdXRMaXN0IiwiaW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2NvbmZpZyIsIl9mb3JtRm9yVmFsaWQiLCJfYnV0dG9uU3VibWl0IiwiYnV0dG9uU3VibWl0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0Q2xhc3MiLCJfc2V0RXZlbnRMaXN0ZW5lciIsImV2dCIsIl9oYW5kbGVJbnB1dEZvcm0iLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfaGlkZUlucHVFcnJvciIsIl9zaG93SW5wdXRFcm9yciIsImJ1dHRvblN1Ym1pdEluYWN0aXZlQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJfaGFzSW52YWxpZElucHV0IiwiX3NldEluYWN0aXZlQnV0dG9uU3RhdGUiLCJfc2V0QWN0aXZlQnV0dG9uU3RhdGUiLCJlcnJvck1lc3NhZ2UiLCJpbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImZvckVhY2giLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlT3V0c2lkZUNsaWNrQ2xvc2UiLCJiaW5kIiwiX2hhbmRsZUVzY0Nsb3NlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJkZWxFdmVudExpc3RlbmVycyIsImtleSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiYmlnU2l6ZVBpY3R1cmUiLCJwb3B1cEltYWdlSGVhZGluZyIsIlBvcHVwV2l0aEZvcm0iLCJjYWxsYmFja1N1Ym1pdCIsIl9jYWxsYmFja1N1Ym1pdCIsIl9mb3JtIiwiX2lucHV0TGlzdFZhbHVlcyIsInJlZHVjZSIsInJlc3VsdCIsInZhbHVlIiwiX2xpc3RlbmVyIiwiX2dldElucHV0VmFsdWVzIiwiYnV0dG9uIiwicmVzZXQiLCJQb3B1cFdpdGhDb25maXJtIiwiVXNlckluZm8iLCJwcm9maWxlSW5mb1NlbGVjdG9ycyIsIl9uYW1lUHJvZmlsZSIsInByb2ZpbGVOYW1lIiwiX2Fib3V0UHJvZmlsZSIsInByb2ZpbGVBYm91dCIsIl9wcm9maWxlQXZhdGFyIiwicHJvZmlsZUF2YXRhciIsImFib3V0IiwiYXZhdGFyIiwiYmFja2dyb3VuZEltYWdlIiwiQXBpIiwib3B0aW9ucyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJfaGFuZGxlUmVzcG9uc2UiLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicG9wdXBQcm9maWxlIiwicmVkdWN0QnV0dG9uIiwicHJvZmlsZUZvcm0iLCJpbnB1dEZpcnNuYW1lIiwiaW5wdXRKb2IiLCJidXR0b25BZGRDYXJkIiwiY2FyZEZvcm0iLCJhdmF0YXJQb3B1cCIsImF2YXRhckJ1dHRvbiIsImF2YXRhckZvcm0iLCJhcGkiLCJhdXRob3JpemF0aW9uIiwidmFsaWRhdGlvblByb2ZpbGVGb3JtIiwidmFsaWRhdGlvbmFkZENhcmRGb3JtIiwidmFsaWRhdGlvbkNoYW5nZUF2YXRhckZvcm0iLCJwb3B1cFdpdGhJbWFnZSIsInVzZXJJbmZvIiwicmVkdWN0UHJvZmlsZVBvcHVwIiwiY2hhbmdlVXNlckluZm8iLCJ1c2VyRGF0YSIsInNldFVzZXJJbmZvIiwiZmluYWxseSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIm15SWQiLCJjcmVhdGVDYXJkIiwiY2FyZCIsIm9wZW4iLCJjb25maXJtRGVsQ2FyZCIsImNhbGxiYWNrQ2FyZCIsInRvZ2dsZUxpa2UiLCJuZXdDYXJkIiwidXBkYXRlRGF0YSIsImdlbmVyYXRlQ2FyZCIsImNhcmRMaXN0IiwiYWRkSXRlbSIsImdldEFsbERhdGEiLCJpbml0aWFsQ2FyZHMiLCJzYXZlZFVzZXJJbmZvIiwicmVuZGVySXRlbXMiLCJ2YWxpZEJlZm9yZU9wZW5Gb3JtIiwiY2hhbmdlQXZhdGFyUG9wdXAiLCJjaGFuZ2VBdmF0YXIiLCJjYWxsYmFja0RhdGEiLCJkZWxDYXJkIiwiYWRkQ2FyZFBvcHVwIiwiYWRkQ2FyZCIsInRpdGxlIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=