(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(t,n,r,o){var i=o.handleCardClick,a=o.handleDelIconClick,u=o.handleLikeClick;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._name=t.name,this._link=t.link,this._template=document.querySelector(r),this._item=this._getTemplate(),this._delButton=this._item.querySelector(".item__delete"),this._likeButton=this._item.querySelector(".item__like"),this._handleCardClick=i,this._handleDelIconClick=a,this._handleLikeClick=u,this._myId=n,this._ownerId=t.owner._id,this.cardId=t._id}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){return this._template.content.querySelector(".item").cloneNode(!0)}},{key:"_removeButtonTrash",value:function(){this._delButton.style.display="none"}},{key:"generateCard",value:function(){return this._ownerId!==this._myId&&this._removeButtonTrash(),this.checkStatusLike()&&this._changeColorLike(),this._cardImage=this._item.querySelector(".item__picture"),this._likesCount=this._item.querySelector(".item__like-count"),this._setEventListeners(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._setLikeCount(this._data.likes),this._item.querySelector(".item__title").textContent=this._name,this._item}},{key:"_setEventListeners",value:function(){var t=this;this._item.contains(this._delButton)&&this._delButton.addEventListener("click",(function(){return t._handleDelIconClick({id:t.cardId,removeItem:function(){return t._removeItem()}})})),this._likeButton.addEventListener("click",(function(){return t._handleLikeClick(t._data)})),this._cardImage.addEventListener("click",this._handleCardClick)}},{key:"_removeItem",value:function(){this._item.remove(),this._item=null}},{key:"checkStatusLike",value:function(){var t=this;return this._data.likes.some((function(e){return e._id===t._myId}))}},{key:"_changeColorLike",value:function(){this._likeButton.classList.toggle("item__like_active")}},{key:"_setLikeCount",value:function(){this._likesCount.textContent=this._data.likes.length}},{key:"updateData",value:function(t){this._data=t}},{key:"toggleLike",value:function(){this._changeColorLike(),this._setLikeCount()}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(e,n){var r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(){return i._inputList.some((function(t){return!t.validity.valid}))},(r="_hasInvalidInput")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._config=e,this._formForValid=n,this._buttonSubmit=n.querySelector(e.buttonSubmit),this._inputList=Array.from(n.querySelectorAll(e.inputClass))}var e,r;return e=t,(r=[{key:"enableValidation",value:function(){this._setEventListener()}},{key:"_setEventListener",value:function(){var t=this;this._formForValid.addEventListener("input",(function(e){return t._handleInputForm(e)})),this._formForValid.addEventListener("submit",(function(t){t.preventDefault()}))}},{key:"_handleInputForm",value:function(t){var e=t.target;this._toggleButtonState(),this._checkInputValidity(e)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInpuError(t):this._showInputErorr(t)}},{key:"_setActiveButtonState",value:function(){this._buttonSubmit.classList.remove(this._config.buttonSubmitInactiveClass),this._buttonSubmit.removeAttribute("disabled")}},{key:"_setInactiveButtonState",value:function(){this._buttonSubmit.classList.add(this._config.buttonSubmitInactiveClass),this._buttonSubmit.setAttribute("disabled","true")}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._setInactiveButtonState():this._setActiveButtonState()}},{key:"_showInputErorr",value:function(t){var e=this._formForValid.querySelector("#".concat(t.id,"-error"));t.classList.add(this._config.inputErrorClass),e.textContent=t.validationMessage}},{key:"_hideInpuError",value:function(t){var e=this._formForValid.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._config.inputErrorClass),e.textContent=""}},{key:"validBeforeOpenForm",value:function(){var t=this;this._inputList.forEach((function(e){t._hideInpuError(e)})),this._toggleButtonState()}}])&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderItems",value:function(t){t.forEach(this._renderer)}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupElement=document.querySelector(e),this._handleOutsideClickClose=this._handleOutsideClickClose.bind(this),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this.setEventListeners(),this._popupElement.classList.add("popup_opened")}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),this.delEventListeners()}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_handleOutsideClickClose",value:function(t){(t.target===this._popupElement||t.target.classList.contains("popup__button-close"))&&this.close()}},{key:"setEventListeners",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popupElement.addEventListener("click",this._handleOutsideClickClose)}},{key:"delEventListeners",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popupElement.removeEventListener("click",this._handleOutsideClickClose)}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=f(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},s.apply(this,arguments)}function f(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function p(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(o){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function a(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,t)}return e=a,(n=[{key:"open",value:function(t){this._name=t.name,this._link=t.link;var e=this._popupElement.querySelector(".popup__image"),n=this._popupElement.querySelector(".popup__heading-image");e.src=this._link,e.alt=this._name,n.textContent=this._name,s(d(a.prototype),"open",this).call(this)}}])&&l(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(u);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=v(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},m.apply(this,arguments)}function v(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}function k(t,e){return k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k(t,e)}function g(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S(r);if(o){var n=S(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return g(this,t)});function a(t,e){var n,r=e.callbackSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._callbackSubmit=r,n._form=n._popupElement.querySelector(".form-group"),n._buttonSubmit=n._form.querySelector(".form-group__button-save"),n}return e=a,(n=[{key:"_getInputValues",value:function(){return this._inputList=Array.from(this._popupElement.querySelectorAll(".form-group__item")),this._inputListValues=this._inputList.reduce((function(t,e){return t[e.name]=e.value,t}),{}),this._inputListValues}},{key:"setEventListeners",value:function(){var t=this;this._listener=function(){t._callbackSubmit({data:t._getInputValues(),button:t._buttonSubmit})},this._form.addEventListener("submit",this._listener),m(S(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){m(S(a.prototype),"close",this).call(this),this._form.reset()}},{key:"delEventListeners",value:function(){this._form.removeEventListener("submit",this._listener),m(S(a.prototype),"delEventListeners",this).call(this)}}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(u);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=L(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},O.apply(this,arguments)}function L(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}function I(t,e){return I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},I(t,e)}function j(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=P(r);if(o){var n=P(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return j(this,t)});function a(t,e){var n,r=e.callbackSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._callbackSubmit=r,n._form=n._popupElement.querySelector(".form-group"),n._buttonSubmit=n._form.querySelector(".form-group__button-save"),n}return e=a,(n=[{key:"open",value:function(t){this._data=t,O(P(a.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var t=this;this._listener=function(e){e.preventDefault(),t._callbackSubmit({data:t._data,button:t._buttonSubmit})},this._form.addEventListener("submit",this._listener),O(P(a.prototype),"setEventListeners",this).call(this)}},{key:"delEventListeners",value:function(){this._form.removeEventListener("submit",this._listener),O(P(a.prototype),"delEventListeners",this).call(this)}}])&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(u);function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameProfile=document.querySelector(e.profileName),this._aboutProfile=document.querySelector(e.profileAbout),this._profileAvatar=document.querySelector(e.profileAvatar)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._nameProfile.textContent,about:this._aboutProfile.textContent,avatar:this._profileAvatar}}},{key:"setUserInfo",value:function(t){this._nameProfile.textContent=t.name,this._aboutProfile.textContent=t.about,this._profileAvatar.style.backgroundImage="url(".concat(t.avatar,")")}}])&&q(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var B=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._headers=e.headers}var e,n;return e=t,(n=[{key:"_handleResponse",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"getAllData",value:function(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}},{key:"changeUserInfo",value:function(t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(t)}).then(this._handleResponse)}},{key:"addCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(t)}).then(this._handleResponse)}},{key:"delCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"toggleLike",value:function(t,e){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:e?"DELETE":"PUT",headers:this._headers}).then(this._handleResponse)}},{key:"changeAvatar",value:function(t){return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify(t)}).then(this._handleResponse)}}])&&A(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var U=document.querySelector(".popup_button_reduct"),D=document.querySelector(".info__button-reduct"),V=U.querySelector(".form-group"),F=V.querySelector(".form-group__item_el_name"),N=V.querySelector(".form-group__item_el_job"),J=document.querySelector(".profile__add-button"),G=document.querySelector(".popup_button_add-item").querySelector(".form-group"),H=document.querySelector(".popup_button_change-avatar").querySelector(".form-group"),M={buttonSubmit:".form-group__button-save",inputClass:".form-group__item",inputErrorClass:"form-group__item_error",buttonSubmitInactiveClass:"form-group__button-save_inactive"},z=new B({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-41",headers:{authorization:"5f54aa7b-f781-4bbd-a84a-c9d65d5c54ef","Content-Type":"application/json"}}),$=new r(M,V),K=new r(M,G),Q=new r(M,H),W=new y(".popup_content_image"),X=new T({profileName:".info__name",profileAbout:".info__about",profileAvatar:".profile__avatar"}),Y=new w(".popup_button_reduct",{callbackSubmit:function(t){t.button.textContent="Сохранение...",z.changeUserInfo(t.data).then((function(t){X.setUserInfo(t),Y.close()})).finally((function(){return t.button.textContent="Сохранить"})).catch((function(t){return console.log(t)}))}}),Z="",tt=function(t){var n=new e(t,Z,".template-item",{handleCardClick:function(){W.open(t)},handleDelIconClick:function(t){rt.open(t)},handleLikeClick:function(t){z.toggleLike(t._id,n.checkStatusLike()).then((function(t){n.updateData(t),n.toggleLike()})).catch((function(t){return console.log(t)}))}}),r=n.generateCard();et.addItem(r)},et=new i({renderer:function(t){tt(t)}},".cards");z.getAllData().then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Z=i._id,X.setUserInfo(i),et.renderItems(o)})).catch((function(t){return console.log(t)})),D.addEventListener("click",(function(){$.validBeforeOpenForm();var t=X.getUserInfo();F.value=t.name,N.value=t.about,Y.open()}));var nt=new w(".popup_button_change-avatar",{callbackSubmit:function(t){t.button.textContent="Сохранение...",z.changeAvatar(t.data).then((function(t){X.setUserInfo(t),nt.close()})).finally((function(){return t.button.textContent="Сохранение"})).catch((function(t){return console.log(t)}))}});X.getUserInfo().avatar.addEventListener("click",(function(){Q.validBeforeOpenForm(),nt.open()}));var rt=new R(".popup_button_confirm-del",{callbackSubmit:function(t){t.button.textContent="Удаление...",z.delCard(t.data.id).then((function(){t.data.removeItem(),rt.close()})).finally((function(){return t.button.textContent="Да"})).catch((function(t){return console.log(t)}))}}),ot=new w(".popup_button_add-item",{callbackSubmit:function(t){t.button.textContent="Сохранение...",z.addCard({name:t.data.title,link:t.data.link}).then((function(t){tt(t),ot.close()})).finally((function(){return t.button.textContent="Создать"})).catch((function(t){return console.log(t)}))}});J.addEventListener("click",(function(){K.validBeforeOpenForm(),ot.open()})),$.enableValidation(),K.enableValidation(),Q.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Iiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgaWQsIHRlbXBsYXRlLCB7IGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsSWNvbkNsaWNrLCBoYW5kbGVMaWtlQ2xpY2sgfSkge1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGVtcGxhdGUpO1xuICAgIHRoaXMuX2l0ZW0gPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2RlbEJ1dHRvbiA9IHRoaXMuX2l0ZW0ucXVlcnlTZWxlY3RvcihcIi5pdGVtX19kZWxldGVcIik7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2l0ZW0ucXVlcnlTZWxlY3RvcihcIi5pdGVtX19saWtlXCIpO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxJY29uQ2xpY2sgPSBoYW5kbGVEZWxJY29uQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xuICAgIHRoaXMuX215SWQgPSBpZDtcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5jYXJkSWQgPSBkYXRhLl9pZDtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLml0ZW1cIikuY2xvbmVOb2RlKHRydWUpO1xuICB9XG5cbiAgX3JlbW92ZUJ1dHRvblRyYXNoKCkge1xuICAgIHRoaXMuX2RlbEJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgaWYgKHRoaXMuX293bmVySWQgIT09IHRoaXMuX215SWQpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUJ1dHRvblRyYXNoKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmNoZWNrU3RhdHVzTGlrZSgpKSB7XG4gICAgICB0aGlzLl9jaGFuZ2VDb2xvckxpa2UoKTtcbiAgICB9XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5faXRlbS5xdWVyeVNlbGVjdG9yKFwiLml0ZW1fX3BpY3R1cmVcIik7XG4gICAgdGhpcy5fbGlrZXNDb3VudCA9IHRoaXMuX2l0ZW0ucXVlcnlTZWxlY3RvcihcIi5pdGVtX19saWtlLWNvdW50XCIpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fc2V0TGlrZUNvdW50KHRoaXMuX2RhdGEubGlrZXMpO1xuICAgIHRoaXMuX2l0ZW0ucXVlcnlTZWxlY3RvcihcIi5pdGVtX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZW07XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKHRoaXMuX2l0ZW0uY29udGFpbnModGhpcy5fZGVsQnV0dG9uKSkge1xuICAgICAgdGhpcy5fZGVsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxJY29uQ2xpY2soe1xuICAgICAgICAgIGlkOiB0aGlzLmNhcmRJZCxcbiAgICAgICAgICByZW1vdmVJdGVtOiAoKSA9PiB0aGlzLl9yZW1vdmVJdGVtKCksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcy5fZGF0YSkpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2FyZENsaWNrKTtcbiAgfVxuXG4gIF9yZW1vdmVJdGVtKCkge1xuICAgIHRoaXMuX2l0ZW0ucmVtb3ZlKCk7XG4gICAgdGhpcy5faXRlbSA9IG51bGw7XG4gIH1cblxuICBjaGVja1N0YXR1c0xpa2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEubGlrZXMuc29tZSgoaXRlbSkgPT4gaXRlbS5faWQgPT09IHRoaXMuX215SWQpO1xuICB9XG5cbiAgX2NoYW5nZUNvbG9yTGlrZSgpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJpdGVtX19saWtlX2FjdGl2ZVwiKTtcbiAgfVxuXG4gIF9zZXRMaWtlQ291bnQoKSB7XG4gICAgdGhpcy5fbGlrZXNDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2RhdGEubGlrZXMubGVuZ3RoO1xuICB9XG5cbiAgdXBkYXRlRGF0YShkYXRhKSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gIH1cblxuICB0b2dnbGVMaWtlKCkge1xuICAgIHRoaXMuX2NoYW5nZUNvbG9yTGlrZSgpO1xuICAgIHRoaXMuX3NldExpa2VDb3VudCgpO1xuICB9XG59XG5cbmV4cG9ydCB7IENhcmQgfTtcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1Gb3JWYWxpZCkge1xuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLl9mb3JtRm9yVmFsaWQgPSBmb3JtRm9yVmFsaWQ7XG4gICAgdGhpcy5fYnV0dG9uU3VibWl0ID0gZm9ybUZvclZhbGlkLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLmJ1dHRvblN1Ym1pdCk7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRm9yVmFsaWQucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRDbGFzcykpO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKCk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcigpIHtcbiAgICB0aGlzLl9mb3JtRm9yVmFsaWQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldnQpID0+IHRoaXMuX2hhbmRsZUlucHV0Rm9ybShldnQpKTtcbiAgICB0aGlzLl9mb3JtRm9yVmFsaWQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVJbnB1dEZvcm0oZXZ0KSB7XG4gICAgY29uc3QgaW5wdXQgPSBldnQudGFyZ2V0O1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpIHtcbiAgICBjb25zdCBpc1ZhbGlkSW5wdXQgPSBpbnB1dC52YWxpZGl0eS52YWxpZDtcbiAgICBpZiAoIWlzVmFsaWRJbnB1dCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJvcnIoaW5wdXQpO1xuICAgIH0gZWxzZSB0aGlzLl9oaWRlSW5wdUVycm9yKGlucHV0KTtcbiAgfVxuXG4gIF9zZXRBY3RpdmVCdXR0b25TdGF0ZSgpIHtcbiAgICB0aGlzLl9idXR0b25TdWJtaXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuYnV0dG9uU3VibWl0SW5hY3RpdmVDbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uU3VibWl0LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICB9XG5cbiAgX3NldEluYWN0aXZlQnV0dG9uU3RhdGUoKSB7XG4gICAgdGhpcy5fYnV0dG9uU3VibWl0LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmJ1dHRvblN1Ym1pdEluYWN0aXZlQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvblN1Ym1pdC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKCF0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fc2V0QWN0aXZlQnV0dG9uU3RhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2V0SW5hY3RpdmVCdXR0b25TdGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG93SW5wdXRFcm9ycihpbnB1dCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRoaXMuX2Zvcm1Gb3JWYWxpZC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZS50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xuICB9XG5cbiAgX2hpZGVJbnB1RXJyb3IoaW5wdXQpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLl9mb3JtRm9yVmFsaWQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2UudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuICB2YWxpZEJlZm9yZU9wZW5Gb3JtKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHVFcnJvcihpbnB1dCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgfVxufVxuXG5leHBvcnQgeyBGb3JtVmFsaWRhdG9yIH07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKGRhdGEpIHtcbiAgICBkYXRhLmZvckVhY2godGhpcy5fcmVuZGVyZXIpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZU91dHNpZGVDbGlja0Nsb3NlID0gdGhpcy5faGFuZGxlT3V0c2lkZUNsaWNrQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgIHRoaXMuZGVsRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuICBfaGFuZGxlT3V0c2lkZUNsaWNrQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC50YXJnZXQgPT09IHRoaXMuX3BvcHVwRWxlbWVudCB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19idXR0b24tY2xvc2VcIikpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVPdXRzaWRlQ2xpY2tDbG9zZSk7XG4gIH1cblxuICBkZWxFdmVudExpc3RlbmVycygpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVPdXRzaWRlQ2xpY2tDbG9zZSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuXG4gIG9wZW4oZGF0YSkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICBjb25zdCBiaWdTaXplUGljdHVyZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcbiAgICBjb25zdCBwb3B1cEltYWdlSGVhZGluZyA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19oZWFkaW5nLWltYWdlXCIpO1xuICAgIGJpZ1NpemVQaWN0dXJlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgYmlnU2l6ZVBpY3R1cmUuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICBwb3B1cEltYWdlSGVhZGluZy50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHsgY2FsbGJhY2tTdWJtaXQgfSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2NhbGxiYWNrU3VibWl0ID0gY2FsbGJhY2tTdWJtaXQ7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZ3JvdXBcIik7XG4gICAgdGhpcy5fYnV0dG9uU3VibWl0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZ3JvdXBfX2J1dHRvbi1zYXZlXCIpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybS1ncm91cF9faXRlbVwiKSk7XG4gICAgdGhpcy5faW5wdXRMaXN0VmFsdWVzID0gdGhpcy5faW5wdXRMaXN0LnJlZHVjZSgocmVzdWx0LCBpdGVtKSA9PiB7XG4gICAgICByZXN1bHRbaXRlbS5uYW1lXSA9IGl0ZW0udmFsdWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0VmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9jYWxsYmFja1N1Ym1pdCh7XG4gICAgICAgIGRhdGE6IHRoaXMuX2dldElucHV0VmFsdWVzKCksXG4gICAgICAgIGJ1dHRvbjogdGhpcy5fYnV0dG9uU3VibWl0LFxuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5fbGlzdGVuZXIpO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIGRlbEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Zvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9saXN0ZW5lcik7XG4gICAgc3VwZXIuZGVsRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHsgY2FsbGJhY2tTdWJtaXQgfSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2NhbGxiYWNrU3VibWl0ID0gY2FsbGJhY2tTdWJtaXQ7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZ3JvdXBcIik7XG4gICAgdGhpcy5fYnV0dG9uU3VibWl0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZ3JvdXBfX2J1dHRvbi1zYXZlXCIpO1xuICB9XG5cbiAgb3BlbihkYXRhKSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlzdGVuZXIgPSAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2NhbGxiYWNrU3VibWl0KHsgZGF0YTogdGhpcy5fZGF0YSwgYnV0dG9uOiB0aGlzLl9idXR0b25TdWJtaXQgfSk7XG4gICAgfTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5fbGlzdGVuZXIpO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBkZWxFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9mb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5fbGlzdGVuZXIpO1xuICAgIHN1cGVyLmRlbEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IocHJvZmlsZUluZm9TZWxlY3RvcnMpIHtcbiAgICB0aGlzLl9uYW1lUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUluZm9TZWxlY3RvcnMucHJvZmlsZU5hbWUpO1xuICAgIHRoaXMuX2Fib3V0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUluZm9TZWxlY3RvcnMucHJvZmlsZUFib3V0KTtcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlSW5mb1NlbGVjdG9ycy5wcm9maWxlQXZhdGFyKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lUHJvZmlsZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl9hYm91dFByb2ZpbGUudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX3Byb2ZpbGVBdmF0YXIsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcbiAgICB0aGlzLl9uYW1lUHJvZmlsZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9hYm91dFByb2ZpbGUudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2RhdGEuYXZhdGFyfSlgO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICB9XG5cbiAgX2hhbmRsZVJlc3BvbnNlKHJlcykge1xuICAgIHJldHVybiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0QWxsRGF0YSgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0SW5pdGlhbENhcmRzKCksIHRoaXMuZ2V0VXNlckluZm8oKV0pO1xuICB9XG5cbiAgY2hhbmdlVXNlckluZm8oZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgYWRkQ2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIGRlbENhcmQoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgdG9nZ2xlTGlrZShpZCwgc3RhdHVzKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBzdGF0dXMgPyBcIkRFTEVURVwiIDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBjaGFuZ2VBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvdXNlcnMvbWUvYXZhdGFyXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG59XG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9idXR0b25fcmVkdWN0XCIpO1xuY29uc3QgcmVkdWN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbmZvX19idXR0b24tcmVkdWN0XCIpO1xuY29uc3QgcHJvZmlsZUZvcm0gPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5mb3JtLWdyb3VwXCIpO1xuY29uc3QgaW5wdXRGaXJzbmFtZSA9IHByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1ncm91cF9faXRlbV9lbF9uYW1lXCIpO1xuY29uc3QgaW5wdXRKb2IgPSBwcm9maWxlRm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tZ3JvdXBfX2l0ZW1fZWxfam9iXCIpO1xuY29uc3QgYnV0dG9uQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcbmNvbnN0IHBvcHVwQWRkSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfYnV0dG9uX2FkZC1pdGVtXCIpO1xuY29uc3QgY2FyZEZvcm0gPSBwb3B1cEFkZEl0ZW0ucXVlcnlTZWxlY3RvcihcIi5mb3JtLWdyb3VwXCIpO1xuY29uc3QgYXZhdGFyUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2J1dHRvbl9jaGFuZ2UtYXZhdGFyXCIpO1xuY29uc3QgYXZhdGFyRm9ybSA9IGF2YXRhclBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1ncm91cFwiKTtcbmNvbnN0IG9wdGlvbnMgPSB7XG4gIGJ1dHRvblN1Ym1pdDogXCIuZm9ybS1ncm91cF9fYnV0dG9uLXNhdmVcIixcbiAgaW5wdXRDbGFzczogXCIuZm9ybS1ncm91cF9faXRlbVwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybS1ncm91cF9faXRlbV9lcnJvclwiLFxuICBidXR0b25TdWJtaXRJbmFjdGl2ZUNsYXNzOiBcImZvcm0tZ3JvdXBfX2J1dHRvbi1zYXZlX2luYWN0aXZlXCIsXG59O1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiNWY1NGFhN2ItZjc4MS00YmJkLWE4NGEtYzlkNjVkNWM1NGVmXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuY29uc3QgdmFsaWRhdGlvblByb2ZpbGVGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3Iob3B0aW9ucywgcHJvZmlsZUZvcm0pO1xuY29uc3QgdmFsaWRhdGlvbmFkZENhcmRGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3Iob3B0aW9ucywgY2FyZEZvcm0pO1xuY29uc3QgdmFsaWRhdGlvbkNoYW5nZUF2YXRhckZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihvcHRpb25zLCBhdmF0YXJGb3JtKTtcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX2NvbnRlbnRfaW1hZ2VcIik7XG5jb25zdCBwcm9maWxlSW5mb1NlbGVjdG9ycyA9IHtcbiAgcHJvZmlsZU5hbWU6IFwiLmluZm9fX25hbWVcIixcbiAgcHJvZmlsZUFib3V0OiBcIi5pbmZvX19hYm91dFwiLFxuICBwcm9maWxlQXZhdGFyOiBcIi5wcm9maWxlX19hdmF0YXJcIixcbn07XG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhwcm9maWxlSW5mb1NlbGVjdG9ycyk7XG5cbmNvbnN0IHJlZHVjdFByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX2J1dHRvbl9yZWR1Y3RcIiwge1xuICBjYWxsYmFja1N1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBkYXRhLmJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIjtcbiAgICBhcGlcbiAgICAgIC5jaGFuZ2VVc2VySW5mbyhkYXRhLmRhdGEpXG4gICAgICAudGhlbigodXNlckRhdGEpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xuICAgICAgICByZWR1Y3RQcm9maWxlUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiAoZGF0YS5idXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC40YLRjFwiKSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfSxcbn0pO1xuXG5sZXQgbXlJZCA9IFwiXCI7XG5jb25zdCBjcmVhdGVDYXJkID0gKGl0ZW0pID0+IHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGl0ZW0sIG15SWQsIFwiLnRlbXBsYXRlLWl0ZW1cIiwge1xuICAgIGhhbmRsZUNhcmRDbGljazogKCkgPT4ge1xuICAgICAgcG9wdXBXaXRoSW1hZ2Uub3BlbihpdGVtKTtcbiAgICB9LFxuICAgIGhhbmRsZURlbEljb25DbGljazogKGRhdGEpID0+IHtcbiAgICAgIGNvbmZpcm1EZWxDYXJkLm9wZW4oZGF0YSk7XG4gICAgfSxcbiAgICBoYW5kbGVMaWtlQ2xpY2s6IChjYWxsYmFja0NhcmQpID0+IHtcbiAgICAgIGFwaVxuICAgICAgICAudG9nZ2xlTGlrZShjYWxsYmFja0NhcmQuX2lkLCBjYXJkLmNoZWNrU3RhdHVzTGlrZSgpKVxuICAgICAgICAudGhlbigobmV3Q2FyZCkgPT4ge1xuICAgICAgICAgIGNhcmQudXBkYXRlRGF0YShuZXdDYXJkKTtcbiAgICAgICAgICBjYXJkLnRvZ2dsZUxpa2UoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgIH0sXG4gIH0pO1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xufTtcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgIGNyZWF0ZUNhcmQoaXRlbSk7XG4gICAgfSxcbiAgfSxcbiAgXCIuY2FyZHNcIlxuKTtcblxuYXBpXG4gIC5nZXRBbGxEYXRhKClcbiAgLnRoZW4oKFtpbml0aWFsQ2FyZHMsIHNhdmVkVXNlckluZm9dKSA9PiB7XG4gICAgbXlJZCA9IHNhdmVkVXNlckluZm8uX2lkO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHNhdmVkVXNlckluZm8pO1xuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGluaXRpYWxDYXJkcyk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcblxucmVkdWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIHZhbGlkYXRpb25Qcm9maWxlRm9ybS52YWxpZEJlZm9yZU9wZW5Gb3JtKCk7XG4gIGNvbnN0IGRhdGFGb3JJbnB1dHMgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBpbnB1dEZpcnNuYW1lLnZhbHVlID0gZGF0YUZvcklucHV0cy5uYW1lO1xuICBpbnB1dEpvYi52YWx1ZSA9IGRhdGFGb3JJbnB1dHMuYWJvdXQ7XG4gIHJlZHVjdFByb2ZpbGVQb3B1cC5vcGVuKCk7XG59KTtcblxuY29uc3QgY2hhbmdlQXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9idXR0b25fY2hhbmdlLWF2YXRhclwiLCB7XG4gIGNhbGxiYWNrU3VibWl0OiAoZGF0YSkgPT4ge1xuICAgIGRhdGEuYnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuICAgIGFwaVxuICAgICAgLmNoYW5nZUF2YXRhcihkYXRhLmRhdGEpXG4gICAgICAudGhlbigoY2FyZCkgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhjYXJkKTtcbiAgICAgICAgY2hhbmdlQXZhdGFyUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiAoZGF0YS5idXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7RhdGA0LDQvdC10L3QuNC1XCIpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9LFxufSk7XG5cbmNvbnN0IGF2YXRhciA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCkuYXZhdGFyO1xuYXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHZhbGlkYXRpb25DaGFuZ2VBdmF0YXJGb3JtLnZhbGlkQmVmb3JlT3BlbkZvcm0oKTtcbiAgY2hhbmdlQXZhdGFyUG9wdXAub3BlbigpO1xufSk7XG5cbmNvbnN0IGNvbmZpcm1EZWxDYXJkID0gbmV3IFBvcHVwV2l0aENvbmZpcm0oXCIucG9wdXBfYnV0dG9uX2NvbmZpcm0tZGVsXCIsIHtcbiAgY2FsbGJhY2tTdWJtaXQ6IChjYWxsYmFja0RhdGEpID0+IHtcbiAgICBjYWxsYmFja0RhdGEuYnV0dG9uLnRleHRDb250ZW50ID0gXCLQo9C00LDQu9C10L3QuNC1Li4uXCI7XG4gICAgYXBpXG4gICAgICAuZGVsQ2FyZChjYWxsYmFja0RhdGEuZGF0YS5pZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FsbGJhY2tEYXRhLmRhdGEucmVtb3ZlSXRlbSgpO1xuICAgICAgICBjb25maXJtRGVsQ2FyZC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IChjYWxsYmFja0RhdGEuYnV0dG9uLnRleHRDb250ZW50ID0gXCLQlNCwXCIpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9LFxufSk7XG5cbmNvbnN0IGFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX2J1dHRvbl9hZGQtaXRlbVwiLCB7XG4gIGNhbGxiYWNrU3VibWl0OiAoZGF0YSkgPT4ge1xuICAgIGRhdGEuYnV0dG9uLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xuICAgIGFwaVxuICAgICAgLmFkZENhcmQoeyBuYW1lOiBkYXRhLmRhdGEudGl0bGUsIGxpbms6IGRhdGEuZGF0YS5saW5rIH0pXG4gICAgICAudGhlbigoY2FyZCkgPT4ge1xuICAgICAgICBjcmVhdGVDYXJkKGNhcmQpO1xuICAgICAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiAoZGF0YS5idXR0b24udGV4dENvbnRlbnQgPSBcItCh0L7Qt9C00LDRgtGMXCIpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICB9LFxufSk7XG5cbmJ1dHRvbkFkZENhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgdmFsaWRhdGlvbmFkZENhcmRGb3JtLnZhbGlkQmVmb3JlT3BlbkZvcm0oKTtcbiAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcbn0pO1xuXG52YWxpZGF0aW9uUHJvZmlsZUZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xudmFsaWRhdGlvbmFkZENhcmRGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcbnZhbGlkYXRpb25DaGFuZ2VBdmF0YXJGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcbiJdLCJuYW1lcyI6WyJDYXJkIiwiZGF0YSIsImlkIiwidGVtcGxhdGUiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxJY29uQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJ0aGlzIiwiX2RhdGEiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfdGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfaXRlbSIsIl9nZXRUZW1wbGF0ZSIsIl9kZWxCdXR0b24iLCJfbGlrZUJ1dHRvbiIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsSWNvbkNsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9teUlkIiwiX293bmVySWQiLCJvd25lciIsIl9pZCIsImNhcmRJZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJzdHlsZSIsImRpc3BsYXkiLCJfcmVtb3ZlQnV0dG9uVHJhc2giLCJjaGVja1N0YXR1c0xpa2UiLCJfY2hhbmdlQ29sb3JMaWtlIiwiX2NhcmRJbWFnZSIsIl9saWtlc0NvdW50IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic3JjIiwiYWx0IiwiX3NldExpa2VDb3VudCIsImxpa2VzIiwidGV4dENvbnRlbnQiLCJjb250YWlucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVJdGVtIiwiX3JlbW92ZUl0ZW0iLCJyZW1vdmUiLCJzb21lIiwiaXRlbSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImxlbmd0aCIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRm9yVmFsaWQiLCJfaW5wdXRMaXN0IiwiaW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2NvbmZpZyIsIl9mb3JtRm9yVmFsaWQiLCJfYnV0dG9uU3VibWl0IiwiYnV0dG9uU3VibWl0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0Q2xhc3MiLCJfc2V0RXZlbnRMaXN0ZW5lciIsImV2dCIsIl9oYW5kbGVJbnB1dEZvcm0iLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfaGlkZUlucHVFcnJvciIsIl9zaG93SW5wdXRFcm9yciIsImJ1dHRvblN1Ym1pdEluYWN0aXZlQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJfaGFzSW52YWxpZElucHV0IiwiX3NldEluYWN0aXZlQnV0dG9uU3RhdGUiLCJfc2V0QWN0aXZlQnV0dG9uU3RhdGUiLCJlcnJvck1lc3NhZ2UiLCJpbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImZvckVhY2giLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlT3V0c2lkZUNsaWNrQ2xvc2UiLCJiaW5kIiwiX2hhbmRsZUVzY0Nsb3NlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJkZWxFdmVudExpc3RlbmVycyIsImtleSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiYmlnU2l6ZVBpY3R1cmUiLCJwb3B1cEltYWdlSGVhZGluZyIsIlBvcHVwV2l0aEZvcm0iLCJjYWxsYmFja1N1Ym1pdCIsIl9jYWxsYmFja1N1Ym1pdCIsIl9mb3JtIiwiX2lucHV0TGlzdFZhbHVlcyIsInJlZHVjZSIsInJlc3VsdCIsInZhbHVlIiwiX2xpc3RlbmVyIiwiX2dldElucHV0VmFsdWVzIiwiYnV0dG9uIiwicmVzZXQiLCJQb3B1cFdpdGhDb25maXJtIiwiVXNlckluZm8iLCJwcm9maWxlSW5mb1NlbGVjdG9ycyIsIl9uYW1lUHJvZmlsZSIsInByb2ZpbGVOYW1lIiwiX2Fib3V0UHJvZmlsZSIsInByb2ZpbGVBYm91dCIsIl9wcm9maWxlQXZhdGFyIiwicHJvZmlsZUF2YXRhciIsImFib3V0IiwiYXZhdGFyIiwiYmFja2dyb3VuZEltYWdlIiwiQXBpIiwib3B0aW9ucyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJfaGFuZGxlUmVzcG9uc2UiLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicG9wdXBQcm9maWxlIiwicmVkdWN0QnV0dG9uIiwicHJvZmlsZUZvcm0iLCJpbnB1dEZpcnNuYW1lIiwiaW5wdXRKb2IiLCJidXR0b25BZGRDYXJkIiwiY2FyZEZvcm0iLCJhdmF0YXJGb3JtIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsInZhbGlkYXRpb25Qcm9maWxlRm9ybSIsInZhbGlkYXRpb25hZGRDYXJkRm9ybSIsInZhbGlkYXRpb25DaGFuZ2VBdmF0YXJGb3JtIiwicG9wdXBXaXRoSW1hZ2UiLCJ1c2VySW5mbyIsInJlZHVjdFByb2ZpbGVQb3B1cCIsImNoYW5nZVVzZXJJbmZvIiwidXNlckRhdGEiLCJzZXRVc2VySW5mbyIsImZpbmFsbHkiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJteUlkIiwiY3JlYXRlQ2FyZCIsImNhcmQiLCJvcGVuIiwiY29uZmlybURlbENhcmQiLCJjYWxsYmFja0NhcmQiLCJ0b2dnbGVMaWtlIiwibmV3Q2FyZCIsInVwZGF0ZURhdGEiLCJjYXJkRWxlbWVudCIsImdlbmVyYXRlQ2FyZCIsImNhcmRMaXN0IiwiYWRkSXRlbSIsImdldEFsbERhdGEiLCJpbml0aWFsQ2FyZHMiLCJzYXZlZFVzZXJJbmZvIiwicmVuZGVySXRlbXMiLCJ2YWxpZEJlZm9yZU9wZW5Gb3JtIiwiZGF0YUZvcklucHV0cyIsImNoYW5nZUF2YXRhclBvcHVwIiwiY2hhbmdlQXZhdGFyIiwiY2FsbGJhY2tEYXRhIiwiZGVsQ2FyZCIsImFkZENhcmRQb3B1cCIsImFkZENhcmQiLCJ0aXRsZSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9